qx.$$packageData['256']={"locales":{},"resources":{"qx/icon/Tango/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-surprise.png":[22,22,"png","qx"],"showcase/virtuallist/down.png":[7,7,"png","showcase"],"showcase/virtuallist/imicons/christian_hagendorn.png":[52,64,"png","showcase"],"showcase/virtuallist/imicons/martin_wittemann.png":[52,52,"png","showcase"],"showcase/virtuallist/imicons/readme.txt":"showcase","showcase/virtuallist/imicons/status_away.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_busy.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_offline.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/status_online.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/tino_butz.png":[48,48,"png","showcase"],"showcase/virtuallist/imicons/tristan_koch.png":[73,73,"png","showcase"],"showcase/virtuallist/imicons/user_add.png":[16,16,"png","showcase"],"showcase/virtuallist/imicons/user_delete.png":[16,16,"png","showcase"],"showcase/virtuallist/right.png":[7,7,"png","showcase"]},"translations":{"C":{},"cs":{},"de":{},"de_AT":{},"de_DE":{},"en":{},"en_GB":{},"en_US":{},"es":{},"es_ES":{},"es_MX":{},"pt":{},"ro":{},"ro_RO":{},"sv":{},"sv_SE":{}}};
qx.Part.$$notifyLoad("256", function() {
(function(){var h="changeOpen",g="Boolean",f="changeCount",e="changeName",d="showcase.page.virtuallist.messenger.GroupModel",c="Friends",b="Integer",a="String";qx.Class.define(d,{extend:qx.core.Object,construct:function(name){qx.core.Object.call(this);if(name!==undefined){this.setName(name);};},properties:{name:{init:c,event:e,check:a},open:{check:g,init:true,event:h},count:{check:b,init:0,event:f}}});})();(function(){var u="_applyName",t="_applyCount",s="showcase.page.virtuallist.messenger.Group",r="Boolean",q="changeOpen",p="",o="(",n=")",m="showcase/virtuallist/right.png",l="_applyOpen",e="click",k="dark-blue",h="middle",c="Integer",b="String",g="showcase/virtuallist/down.png",f="white",i="bold",a="icon",j="label",d="count";qx.Class.define(s,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this.set({backgroundColor:k,padding:[0,3]});this._setLayout(new qx.ui.layout.HBox(3).set({alignY:h}));this._add(this.getChildControl(a));this._add(this.getChildControl(j),{flex:1});this._add(this.getChildControl(d));},properties:{open:{check:r,event:q,apply:l,init:true},name:{check:b,apply:u,init:p},count:{check:c,apply:t,init:0}},members:{_createChildControlImpl:function(v,w){var x;switch(v){case j:x=new qx.ui.basic.Label().set({allowGrowX:true,textColor:f,font:i});break;case a:x=new qx.ui.basic.Image(g);x.addListener(e,this._onClick,this);break;case d:x=new qx.ui.basic.Label().set({textColor:f,font:i});break;};return x||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,v);},_applyOpen:function(y,z){var A=g;if(y==false){A=m;};this.getChildControl(a).setSource(A);},_applyName:function(B,C){this.getChildControl(j).setValue(B);},_applyCount:function(D,E){this.getChildControl(d).setValue(o+D+n);},_onClick:function(event){this.toggleOpen();}}});})();(function(){var m="listitem",l="showcase.page.virtuallist.messenger.Buddy",k=".png",j="_applyAvatar",i="middle",h="_applyLabel",g="_applyStatus",f="showcase/virtuallist/imicons/status_",e="",d="icon",a="label",c="statusIcon",b="String";qx.Class.define(l,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);this.set({padding:[0,3]});this._setLayout(new qx.ui.layout.HBox(3).set({alignY:i}));this._add(this.getChildControl(c));this._add(this.getChildControl(a),{flex:1});this._add(this.getChildControl(d));},properties:{appearance:{refine:true,init:m},name:{check:b,apply:h,init:e},avatar:{check:b,apply:j,init:e},status:{check:b,apply:g,init:e},gap:{themeable:true}},members:{_createChildControlImpl:function(n,o){var p;switch(n){case a:p=new qx.ui.basic.Label().set({allowGrowX:true});break;case d:p=new qx.ui.basic.Image().set({width:26,height:26,scale:true});break;case c:p=new qx.ui.basic.Image();break;};return p||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,n);},_applyLabel:function(q,r){this.getChildControl(a).setValue(q);},_applyAvatar:function(s,t){this.getChildControl(d).setSource(s);},_applyStatus:function(u,v){var w=f+u+k;this.getChildControl(c).setSource(w);}}});})();(function(){var k="User #",j="qooxdoo",h="Alexander Steitz",g=".png",f="kiss",e="changeStatus",d="icon/22/emotes/face-smile.png",c="embarrassed",b="showcase/virtuallist/imicons/christian_hagendorn.png",a="showcase/virtuallist/imicons/tino_butz.png",O="plain",N="smile-big",M="surprise",L="smile",K="raspberry",J="sad",I="showcase/virtuallist/imicons/martin_wittemann.png",H="changeGroup",G="Tino Butz",F="showcase/virtuallist/imicons/tristan_koch.png",r="changeAvatar",s="Daniel Wagner",p="showcase.page.virtuallist.messenger.BuddyModel",q="(unnamed)",n="Andreas Ecker",o="Christian Hagendorn",l="laugh",m="Thomas Herchenr√∂der",t="changeName",u="angel",x="icon/22/emotes/face-",w="Tristan Koch",z="Martin Wittemann",y="Friends",B="away",A="online",v="busy",E="offline",D="String",C="_applyEventPropagation";qx.Class.define(p,{extend:qx.core.Object,include:qx.data.marshal.MEventBubbling,properties:{name:{init:q,event:t,check:D,apply:C},avatar:{init:d,event:r,check:D,apply:C},status:{init:E,event:e,check:[B,v,A,E],apply:C},group:{init:y,event:H,check:D,apply:C}},statics:{createBuddies:function(P){var R=[{name:h,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:n,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:z,img:I,statusIcon:this.getRandomStatus()},{name:m,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:s,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus()},{name:o,img:b,statusIcon:this.getRandomStatus()},{name:G,img:a,statusIcon:this.getRandomStatus()},{name:w,img:F,statusIcon:this.getRandomStatus()}];for(var i=0;i<R.length;i++ ){R[i].group=j;};for(var i=R.length;i<P;i++ ){R[i]={name:k+i,img:this.getRandomBuddy(),statusIcon:this.getRandomStatus(),group:y};};var Q=[];for(var i=0;i<R.length;i++ ){var S=new showcase.page.virtuallist.messenger.BuddyModel().set({name:R[i].name,avatar:R[i].img,status:R[i].statusIcon,group:R[i].group});Q.push(S);};return new qx.data.Array(Q);},getRandomBuddy:function(){var T=[u,c,f,l,O,K,J,N,L,M];return x+T[Math.floor(Math.random()*T.length)]+g;},getRandomStatus:function(){var U=[B,v,A,E];return U[Math.floor(Math.random()*U.length)];}}});})();(function(){var k="_applyInterval",j="__ks",i="appear",h="interval",g="qx.ui.virtual.behavior.Prefetch",f="_applyScroller",e="qx.ui.virtual.core.Scroller",d="Integer",c="scroll",b="scrollbar-x",a="scrollbar-y";qx.Class.define(g,{extend:qx.core.Object,construct:function(l,m){{};qx.core.Object.call(this);this.setPrefetchX(m.minLeft,m.maxLeft,m.minRight,m.maxRight);this.setPrefetchY(m.minAbove,m.maxAbove,m.minBelow,m.maxBelow);this.__ks=new qx.event.Timer(this.getInterval());this.__ks.addListener(h,this._onInterval,this);if(l){this.setScroller(l);};},properties:{scroller:{check:e,nullable:true,init:null,apply:f},interval:{check:d,init:200,apply:k}},members:{__Iw:null,__Ix:null,__ks:null,__Iy:null,__Iz:null,setPrefetchX:function(n,o,p,q){this.__Iw=[n,o,p,q];},setPrefetchY:function(r,s,t,u){this.__Ix=[r,s,t,u];},_onInterval:function(){var v=this.__Iw;if(v[1]&&v[3]){this.getScroller().getPane().prefetchX(v[0],v[1],v[2],v[3]);qx.ui.core.queue.Manager.flush();};var w=this.__Ix;if(w[1]&&w[3]){this.getScroller().getPane().prefetchY(w[0],w[1],w[2],w[3]);qx.ui.core.queue.Manager.flush();};},_applyScroller:function(x,y){if(y){if(this.__Iy){y.getChildControl(b).removeListenerById(this.__Iy);};if(this.__Iz){y.getChildControl(a).removeListenerById(this.__Iz);};};if(x){if(!x.getContainerElement().getDomElement()){this.__ks.stop();x.addListenerOnce(i,this.__ks.start,this.__ks);}else {this.__ks.restart();};this.__Iy=x.getChildControl(b).addListener(c,this.__ks.restart,this.__ks);this.__Iz=x.getChildControl(a).addListener(c,this.__ks.restart,this.__ks);}else {this.__ks.stop();};},_applyInterval:function(z,A){this.__ks.setInterval(z);}},destruct:function(){this.setScroller(null);this.__Iw=this.__Ix=null;this._disposeObjects(j);}});})();(function(){var v="changeModel",u="progressive-table-row-background-even",t="row-layer",s="_applyModel",r="off",q="changeSelection",p="changeGroup",o="showcase.page.virtuallist.messenger.Roster",n="progressive-table-row-background-odd",m="auto",f="model",l="change",j="status",e="count",d="avatar",h="changeBubble",g="qx.data.Array",k="name",c="open";qx.Class.define(o,{extend:qx.ui.core.Widget,construct:function(){qx.ui.core.Widget.call(this);var y=new qx.ui.layout.VBox();this._setLayout(y);var w=this.list=new qx.ui.list.List();w.set({scrollbarX:r,scrollbarY:m,width:200,height:300,itemHeight:28,decorator:null,autoGrouping:false,padding:0});w.setDelegate(this);this._add(w,{flex:1});this.initGroups(w.getGroups());this.initModel(new qx.data.Array());this.initSelection(w.getSelection());this.bind(f,w,f);var x=w.getChildControl(t);x.set({colorEven:u,colorOdd:n});new qx.ui.virtual.behavior.Prefetch(w,{minLeft:0,maxLeft:0,minRight:0,maxRight:0,minAbove:600,maxAbove:800,minBelow:600,maxBelow:800}).set({interval:500});},properties:{model:{check:g,event:v,apply:s,nullable:false,deferredInit:true},selection:{check:g,event:q,nullable:false,deferredInit:true},groups:{check:g,event:p,nullable:false,deferredInit:true}},members:{createItem:function(){return new showcase.page.virtuallist.messenger.Buddy();},createGroupItem:function(){return new showcase.page.virtuallist.messenger.Group();},bindItem:function(z,A,B){z.bindProperty(k,k,null,A,B);z.bindProperty(d,d,null,A,B);z.bindProperty(j,j,null,A,B);},bindGroupItem:function(C,D,E){C.bindProperty(k,k,null,D,E);C.bindProperty(e,e,null,D,E);C.bindProperty(c,c,null,D,E);C.bindPropertyReverse(c,c,null,D,E);},filter:function(F){return this.__NG(F.getGroup()).isOpen();},sorter:function(a,b){return a.getName()<b.getName()?-1:1;},group:function(G){return this.__NG(G.getGroup());},_applyModel:function(H,I){H.addListener(l,this.__NF,this);H.addListener(h,this.__NF,this);if(I!=null){I.removeListener(l,this.__NF,this);I.removeListener(h,this.__NF,this);};this.__NF();},__NF:function(event){var M=this.getModel();var L=this.getGroups();var N={};for(var i=0;i<L.getLength();i++ ){var K=L.getItem(i);N[K.getName()]=0;};for(var i=0;i<M.getLength();i++ ){var K=M.getItem(i).getGroup();if(N[K]==null){N[K]=1;}else {N[K]+=1;};};for(var name in N){var J=N[name];var K=this.__NG(name);K.setCount(J);};if(event&&event.getType()=="changeBubble"){this.list.refresh();};},__NG:function(name){var Q=this.getGroups();var P=null;for(var i=0;i<Q.getLength();i++ ){var O=Q.getItem(i);if(name==O.getName()){P=O;break;};};if(P==null){P=new showcase.page.virtuallist.messenger.GroupModel(name);P.addListener("changeOpen",this.__NH,this);Q.push(P);};return P;},__NH:function(event){this.list.refresh();}}});})();(function(){var k="separator-vertical",j="Escape",i="Cancel",h="Group: ",g="Name:",f="Enter",d="source",c="Group:",b="selection[0]",a="showcase.page.virtuallist.Content",R="center",Q="showcase/virtuallist/imicons/user_delete.png",P="enabled",O="group",N="Name: ",M="keypress",L="selection.length",K="modelSelection",J="top",I="Contacts",r="Status: ",s="selection",p="Add",q="Contact Details",n="Add user",o="model",l="appear",m="avatar",t="left",u="Avatar: ",A="away",z="offline",C="value",B="online",E="icon",D="busy",w="selection[0].status",H="right",G="showcase/virtuallist/imicons/user_add.png",F="middle",v="name",x="",y="execute";qx.Class.define(a,{extend:showcase.AbstractContent,construct:function(S){showcase.AbstractContent.call(this,S);this.setView(this._createView());},members:{messenger:null,__ND:null,__NE:null,_createView:function(){var W=new qx.ui.window.Desktop(new qx.ui.window.Manager());var T=new qx.ui.window.Window(I);T.set({showClose:false,showMinimize:false,contentPadding:0});W.add(T);T.moveTo(250,20);T.open();var V=new qx.ui.layout.VBox();V.setSeparator(k);T.setLayout(V);this.messenger=new showcase.page.virtuallist.messenger.Roster();var U=showcase.page.virtuallist.messenger.BuddyModel.createBuddies(200);this.messenger.setModel(U);T.add(this.createToolbar());T.add(this.messenger,{flex:1});W.add(this.createDetailsView(),{left:20,top:20});return W;},createToolbar:function(){var toolbar=new qx.ui.toolbar.ToolBar();var ba=new qx.ui.toolbar.Part();toolbar.add(ba);var X=new qx.ui.toolbar.Button(x,G).set({show:E});X.addListener(y,this.showAddContactWindow,this);ba.add(X);var Y=new qx.ui.toolbar.Button(x,Q).set({show:E});this.messenger.bind(L,Y,P,{converter:function(bb){return bb>0;}});Y.addListener(y,function(){this.messenger.getModel().remove(this.messenger.getSelection().getItem(0));},this);ba.add(Y);return ba;},createDetailsView:function(){var bf=new qx.data.controller.Object();this.messenger.bind(b,bf,o);var bc=new qx.ui.groupbox.GroupBox(q);var bg=new qx.ui.layout.Grid(5,5);bg.setColumnAlign(0,H,F);bc.setLayout(bg);bc.add(new qx.ui.basic.Label(N),{row:0,column:0});var bi=new qx.ui.form.TextField();bf.addTarget(bi,C,v,true);bc.add(bi,{row:0,column:1});bc.add(new qx.ui.basic.Label(h),{row:1,column:0});var bd=new qx.ui.form.VirtualComboBox();bd.setLabelPath(v);bd.setModel(this.messenger.getGroups());bf.addTarget(bd,C,O,true);bc.add(bd,{row:1,column:1});bc.add(new qx.ui.basic.Label(r),{row:2,column:0});var bh=new qx.ui.form.SelectBox();bh.add(new qx.ui.form.ListItem(B).set({model:B}));bh.add(new qx.ui.form.ListItem(A).set({model:A}));bh.add(new qx.ui.form.ListItem(D).set({model:D}));bh.add(new qx.ui.form.ListItem(z).set({model:z}));this.messenger.bind(w,bh,K,{converter:function(bj){return [bj];}});bh.bind(s,this.messenger,w,{converter:function(bk){return bk[0].getModel();}});bc.add(bh,{row:2,column:1});bc.add(new qx.ui.basic.Label(u).set({alignY:J}),{row:3,column:0});var be=new qx.ui.basic.Image().set({alignX:R,maxWidth:70,maxHeight:70,scale:true});bf.addTarget(be,d,m);bc.add(be,{row:3,column:1});return bc;},showAddContactWindow:function(){if(this.__ND==null){var bl=new qx.ui.layout.Grid(5,10);var bn=new qx.ui.window.Window(n,G);bn.set({width:165,height:100,showMinimize:false,showClose:false,showMaximize:false});bn.setLayout(bl);var bq=new qx.ui.basic.Label(g);var br=new qx.ui.form.TextField();var bo=new qx.ui.form.VirtualComboBox();bo.setLabelPath(v);bo.setModel(this.messenger.getGroups());var bm=new qx.ui.basic.Label(c);var bt=new qx.ui.form.Button(p);var bs=new qx.ui.form.Button(i);this.__NE=br;bt.setAllowGrowX(false);bs.setAllowGrowX(false);bn.addListener(l,br.focus,br);bs.addListener(y,bn.close,bn);var bp=function(){var bu=new showcase.page.virtuallist.messenger.BuddyModel();bu.setName(br.getValue());bu.setGroup(bo.getValue());this.messenger.getModel().push(bu);this.messenger.getSelection().setItem(0,bu);bn.close();};bt.addListener(y,bp,this);bn.addListener(M,function(e){var bv=e.getKeyIdentifier();if(bv==f){bp.call(this);}else if(bv==j){bn.close();};},this);bn.add(bq,{row:0,column:0});bn.add(br,{row:0,column:1,colSpan:2});bn.add(bm,{row:1,column:0});bn.add(bo,{row:1,column:1,colSpan:2});bn.add(bt,{row:2,column:1});bn.add(bs,{row:2,column:2});bl.setColumnAlign(0,t,F);bl.setColumnAlign(1,H,F);this.getView().add(bn,{left:270,top:40});this.__ND=bn;};this.__NE.setValue(x);this.__ND.open();},removeContact:function(){this.messenger.getModel().pop();}}});})();
});