qx.$$packageData['128']={"locales":{},"resources":{"widgetbrowser/tree.json":"widgetbrowser"},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("128", function() {
(function(){var b="qx.ui.treevirtual.MTreePrimitive",a="<virtual root>";qx.Mixin.define(b,{statics:{Type:{LEAF:1,BRANCH:2},_addNode:function(c,d,e,f,g,h,i,j,k){var m;if(d){m=c[d];if(!m){throw new Error("Request to add a child to a non-existent parent");};if(m.type==qx.ui.treevirtual.MTreePrimitive.Type.LEAF){throw new Error("Sorry, a LEAF may not have children.");};}else {m=c[0];d=0;};if(h==qx.ui.treevirtual.MTreePrimitive.Type.LEAF){f=false;g=false;};if(k===undefined){k=c.length;};var l={type:h,nodeId:k,parentNodeId:d,label:e,bSelected:false,bOpened:f,bHideOpenClose:g,icon:i,iconSelected:j,children:[],columnData:[]};c[k]=l;m.children.push(k);return k;},_getEmptyTree:function(){return {label:a,nodeId:0,bOpened:true,children:[]};}}});})();(function(){var n="Function",m="treeOpenWithContent",l="bSelected",k="treeOpenWhileEmpty",h="_applyFilter",g="qx.ui.treevirtual.SimpleTreeDataModel",f="bOpened",e="treeClose",d="metaDataChanged",c="dataChanged",a="object",b="number";qx.Class.define(g,{extend:qx.ui.table.model.Abstract,include:qx.ui.treevirtual.MTreePrimitive,construct:function(){qx.ui.table.model.Abstract.call(this);this._rowArr=[];this._nodeArr=[];this._nodeRowMap=[];this._treeColumn=0;this._selections={};this._nodeArr.push(qx.ui.treevirtual.MTreePrimitive._getEmptyTree());this.__nT=null;},properties:{filter:{check:n,nullable:true,apply:h}},members:{__Fw:null,__nT:null,__Fx:null,__Fy:null,_rowArr:null,_nodeArr:null,_nodeRowMap:null,_treeColumn:null,_selections:null,setTree:function(o){this.__Fw=o;},getTree:function(){return this.__Fw;},setEditable:function(p){this.__nT=[];for(var q=0;q<this.getColumnCount();q++){this.__nT[q]=p;};this.fireEvent(d);},setColumnEditable:function(r,s){if(s!=this.isColumnEditable(r)){if(this.__nT==null){this.__nT=[];};this.__nT[r]=s;this.fireEvent(d);};},isColumnEditable:function(t){if(t==this._treeColumn){return false;};return (this.__nT?this.__nT[t]==true:false);},isColumnSortable:function(u){return false;},sortByColumn:function(v,w){throw new Error("Trees can not be sorted by column");},getSortColumnIndex:function(){return -1;},setTreeColumn:function(x){this._treeColumn=x;},getTreeColumn:function(){return this._treeColumn;},getRowCount:function(){return this._rowArr.length;},getRowData:function(y){return this._rowArr[y];},getValue:function(z,A){if(A<0||A>=this._rowArr.length){throw new Error("this._rowArr row "+"("+A+") out of bounds: "+this._rowArr+" (0.."+(this._rowArr.length-1)+")");};if(z<0||z>=this._rowArr[A].length){throw new Error("this._rowArr column "+"("+z+") out of bounds: "+this._rowArr[A]+" (0.."+(this._rowArr[A].length-1)+")");};return this._rowArr[A][z];},setValue:function(B,C,D){if(B==this._treeColumn){return;};var E=this.getNodeFromRow(C);if(E.columnData[B]!=D){E.columnData[B]=D;this.setData();if(this.hasListener(c)){var F={firstRow:C,lastRow:C,firstColumn:B,lastColumn:B};this.fireDataEvent(c,F);};};},getNode:function(G){if(G<0||G>=this._rowArr.length){throw new Error("this._rowArr row "+"("+G+") out of bounds: "+this._rowArr+" (0.."+(this._rowArr.length-1)+")");};return this._rowArr[G][this._treeColumn];},addBranch:function(H,I,J,K,L,M){return qx.ui.treevirtual.MTreePrimitive._addNode(this._nodeArr,H,I,J,K,qx.ui.treevirtual.MTreePrimitive.Type.BRANCH,L,M);},addLeaf:function(N,O,P,Q){return qx.ui.treevirtual.MTreePrimitive._addNode(this._nodeArr,N,O,false,false,qx.ui.treevirtual.MTreePrimitive.Type.LEAF,P,Q);},prune:function(R,S){var T;var U;if(typeof (R)==a){T=R;U=T.nodeId;}else if(typeof (R)==b){U=R;}else {throw new Error("Expected node object or node id");};for(var i=this._nodeArr[U].children.length-1;i>=0;i--){this.prune(this._nodeArr[U].children[i],true);};if(S&&U!=0){T=this._nodeArr[U];qx.lang.Array.remove(this._nodeArr[T.parentNodeId].children,U);if(this._selections[U]){delete this._selections[U];};this._nodeArr[U]=null;};},move:function(V,W){var bc;var X;var bb;var Y;W=W||0;if(typeof (V)==a){bc=V;X=bc.nodeId;}else if(typeof (V)==b){X=V;bc=this._nodeArr[X];}else {throw new Error("Expected move node object or node id");};if(typeof (W)==a){bb=W;Y=bb.nodeId;}else if(typeof (W)==b){Y=W;bb=this._nodeArr[Y];}else {throw new Error("Expected parent node object or node id");};if(bb.type==qx.ui.treevirtual.MTreePrimitive.Type.LEAF){throw new Error("Sorry, a LEAF may not have children.");};var ba=this._nodeArr[bc.parentNodeId];qx.lang.Array.remove(ba.children,X);bb.children.push(X);this._nodeArr[X].parentNodeId=Y;},__Fz:function(bd,be){var bh=this.getFilter();var bk=null;var bj;var bg=this._nodeArr[bd].children.length;var bf=0;var bl=this.__Fx[bd]=[];for(var i=0;i<bg;i++){bj=this._nodeArr[bd].children[i];bk=this._nodeArr[bj];if(bk==null||(bh&&!bh.call(this,bk))){this.__Fy=true;continue;};bl.push(bk);bk.level=be;bk.bFirstChild=(bf==0);if(!this.__Fy){this.__FB(bk,i==bg-1);};if(!bk.columnData){bk.columnData=[];};if(bk.columnData.length<this.getColumnCount()){bk.columnData[this.getColumnCount()-1]=null;};var bi=[];if(bk.columnData){for(var j=0;j<bk.columnData.length;j++){if(j==this._treeColumn){bi.push(bk);}else {bi.push(bk.columnData[j]);};};}else {bi.push(bk);};this._nodeRowMap[bk.nodeId]=this._rowArr.length;this._rowArr.push(bi);if(bk.bSelected){bi.selected=true;this._selections[bk.nodeId]=true;};if(bk.bOpened){this.__Fz(bj,be+1);};bf++;};},__FA:function(bm){var bn=this.__Fx;var br=bn[bm];var bp=br.length;for(var i=0;i<bp;i++){var bq=br[i];this.__FB(bq,i==bp-1);var bo=bn[bq.nodeId]&&bn[bq.nodeId].length>0;if(bo){this.__FA(bq.nodeId);};};},__FB:function(bs,bt){bs.lastChild=[bt];var parent=this._nodeArr[bs.parentNodeId];while(parent.nodeId){var bu=parent.lastChild[parent.lastChild.length-1];bs.lastChild.unshift(bu);parent=this._nodeArr[parent.parentNodeId];};},__FC:function(){this.__Fx=[];this.__Fy=false;this._rowArr=[];this._nodeRowMap=[];this._selections={};this.__Fz(0,1);if(this.__Fy){this.__FA(0);};this.__Fx=null;if(this.hasListener("dataChanged")){var bv={firstRow:0,lastRow:this._rowArr.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent("dataChanged",bv);};},setData:function(bw){if(bw instanceof Array){this._nodeArr=bw;}else if(bw!==null&&bw!==undefined){throw new Error("Expected array of node objects or null/undefined; "+"got "+typeof (bw));};this.__FC();var bA=this.getTree().getSelectionModel();var bx=this._selections;for(var bz in bx){var by=this.getRowFromNodeId(bz);bA.setSelectionInterval(by,by);};},getData:function(){return this._nodeArr;},clearData:function(){this._clearSelections();this.setData([qx.ui.treevirtual.MTreePrimitive._getEmptyTree()]);},setColumnData:function(bB,bC,bD){this._nodeArr[bB].columnData[bC]=bD;},getColumnData:function(bE,bF){return this._nodeArr[bE].columnData[bF];},setState:function(bG,bH){var bI;var bN;if(typeof (bG)==a){bI=bG;bN=bI.nodeId;}else if(typeof (bG)==b){bN=bG;bI=this._nodeArr[bN];}else {throw new Error("Expected node object or node id");};for(var bL in bH){switch(bL){case l:var bO=this.getRowFromNodeId(bN);var bJ=this.getTree().getSelectionModel();var bK=qx.ui.treevirtual.TreeVirtual;var bP=(typeof (bO)===b&&this.getTree().getSelectionMode()!=bK.SelectionMode.NONE);if(bH[bL]){this._selections[bN]=true;if(bP&&!bJ.isSelectedIndex(bO)){bJ.setSelectionInterval(bO,bO);};}else {delete this._selections[bN];if(bP&&bJ.isSelectedIndex(bO)){bJ.removeSelectionInterval(bO,bO);};};break;case f:if(bH[bL]==bI.bOpened){break;};var bM=this.__Fw;if(bI.bOpened){bM.fireDataEvent(e,bI);}else {if(bI.children.length>0){bM.fireDataEvent(m,bI);}else {bM.fireDataEvent(k,bI);};};if(!bI.bHideOpenClose){bI.bOpened=!bI.bOpened;bM.getSelectionModel()._resetSelection();};this.setData();break;default:break;};bI[bL]=bH[bL];};},getNodeRowMap:function(){return this._nodeRowMap;},getRowFromNodeId:function(bQ){return this._nodeRowMap[bQ];},getNodeFromRow:function(bR){return this._nodeArr[this._rowArr[bR][this._treeColumn].nodeId];},_clearSelections:function(){for(var bS in this._selections){this._nodeArr[bS].bSelected=false;};this._selections={};},getSelectedNodes:function(){var bT=[];for(var bU in this._selections){bT.push(this._nodeArr[bU]);};return bT;},_applyFilter:function(bV,bW){this.setData();}},destruct:function(){this._rowArr=this._nodeArr=this._nodeRowMap=this._selections=this.__Fw=this.__Fx=null;},defer:function(bX){bX.Type=qx.ui.treevirtual.MTreePrimitive.Type;}});})();(function(){var k="_applyIconOpened",j="Boolean",i="changeIcon",h="changeIconOpened",g="changeLabel",f="Integer",d="_applyIndent",c="changeOpenSymbolMode",b="_applyOpenSymbolMode",a="resize",D="",C="__mi",B="iconOpened",A="abstract",z="never",y="_applyIcon",x="_applyOpen",w="changeIndent",v="qx.ui.tree.core.AbstractItem",u="_applyLabel",r="changeOpen",s="opened",p="always",q="auto",n="middle",o="String",l="label",m="open",t="icon";qx.Class.define(v,{extend:qx.ui.core.Widget,type:A,include:[qx.ui.form.MModelProperty],implement:[qx.ui.form.IModel],construct:function(E){qx.ui.core.Widget.call(this);if(E!=null){this.setLabel(E);};this._setLayout(new qx.ui.layout.HBox());this._addWidgets();this.initOpen();},properties:{open:{check:j,init:false,event:r,apply:x},openSymbolMode:{check:[p,z,q],init:q,event:c,apply:b},indent:{check:f,init:19,apply:d,event:w,themeable:true},icon:{check:o,apply:y,event:i,nullable:true,themeable:true},iconOpened:{check:o,apply:k,event:h,nullable:true,themeable:true},label:{check:o,apply:u,event:g,init:D}},members:{__mg:null,__mh:null,__mi:null,_addWidgets:function(){throw new Error("Abstract method call.");},_createChildControlImpl:function(F,G){var H;switch(F){case l:H=new qx.ui.basic.Label().set({alignY:n,anonymous:true,value:this.getLabel()});break;case t:H=new qx.ui.basic.Image().set({alignY:n,anonymous:true,source:this.getIcon()});break;case m:H=new qx.ui.tree.core.FolderOpenButton().set({alignY:n});H.addListener(r,this._onChangeOpen,this);H.addListener(a,this._updateIndent,this);break;};return H||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,F);},addWidget:function(I,J){this._add(I,J);},addSpacer:function(){if(!this.__mi){this.__mi=new qx.ui.core.Spacer();}else {this._remove(this.__mi);};this._add(this.__mi);},addOpenButton:function(){this._add(this.getChildControl(m));},_onChangeOpen:function(e){if(this.isOpenable()){this.setOpen(e.getData());};},addIcon:function(){var K=this.getChildControl(t);if(this.__mh){this._remove(K);};this._add(K);this.__mh=true;},addLabel:function(L){var M=this.getChildControl(l);if(this.__mg){this._remove(M);};if(L){this.setLabel(L);}else {M.setValue(this.getLabel());};this._add(M);this.__mg=true;},_applyIcon:function(N,O){if(!this.__mk()){this.__ml(N);}else if(!this.isOpen()){this.__ml(N);};},_applyIconOpened:function(P,Q){if(this.isOpen()){if(this.__mj()&&this.__mk()){this.__ml(P);}else if(!this.__mj()&&this.__mk()){this.__ml(P);};};},_applyLabel:function(R,S){var T=this.getChildControl(l,true);if(T){T.setValue(R);};},_applyOpen:function(U,V){var open=this.getChildControl(m,true);if(open){open.setOpen(U);};var W;if(U){W=this.__mk()?this.getIconOpened():null;}else {W=this.getIcon();};if(W){this.__ml(W);};U?this.addState(s):this.removeState(s);},__mj:function(){return qx.util.PropertyUtil.getUserValue(this,t);},__mk:function(){return qx.util.PropertyUtil.getUserValue(this,B);},__ml:function(X){var Y=this.getChildControl(t,true);if(Y){Y.setSource(X);};},isOpenable:function(){var ba=this.getOpenSymbolMode();return (ba===p||ba===q&&this.hasChildren());},_shouldShowOpenSymbol:function(){throw new Error("Abstract method call.");},_applyOpenSymbolMode:function(bb,bc){this._updateIndent();},_updateIndent:function(){var be=0;var open=this.getChildControl(m,true);if(open){if(this._shouldShowOpenSymbol()){open.show();var bd=open.getBounds();if(bd){be=bd.width;}else {return;};}else {open.exclude();};};if(this.__mi){this.__mi.setWidth((this.getLevel()+1)*this.getIndent()-be);};},_applyIndent:function(bf,bg){this._updateIndent();},getLevel:function(){throw new Error("Abstract method call.");},syncWidget:function(bh){this._updateIndent();},hasChildren:function(){throw new Error("Abstract method call.");}},destruct:function(){this._disposeObjects(C);}});})();(function(){var a="qx.ui.tree.provider.IVirtualTreeProvider";qx.Interface.define(a,{members:{createLayer:function(){},createRenderer:function(){},setChildProperty:function(b){this.assertArgumentsCount(arguments,1,1);this.assertString(b);},setLabelPath:function(c){this.assertArgumentsCount(arguments,1,1);this.assertString(c);},styleSelectabled:function(d){this.assertArgumentsCount(arguments,1,1);this.assertInteger(d);},styleUnselectabled:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInteger(e);},isSelectable:function(f){this.assertArgumentsCount(arguments,1,1);this.assertInteger(f);}}});})();(function(){var n="columnVisibilityMenuCreateEnd",m="tableWidthChanged",l="verticalScrollBarChanged",k="qx.ui.table.columnmodel.resizebehavior.Abstract",j="qx.ui.table.columnmodel.Resize",i="_applyBehavior",h="separator",g="visibilityChanged",f="Reset column widths",e="changeBehavior",b="user-button",d="widthChanged",c="execute",a="appear";qx.Class.define(j,{extend:qx.ui.table.columnmodel.Basic,include:qx.locale.MTranslation,construct:function(){qx.ui.table.columnmodel.Basic.call(this);this.__oE=false;this.__oF=false;},properties:{behavior:{check:k,init:null,nullable:true,apply:i,event:e}},members:{__oF:null,__oE:null,__nq:null,_applyBehavior:function(p,q){if(q!=null){q.dispose();q=null;};p._setNumColumns(this.getOverallColumnCount());p.setTableColumnModel(this);},init:function(r,s){qx.ui.table.columnmodel.Basic.prototype.init.call(this,r,s);if(this.__nq==null){this.__nq=s;s.addListener(a,this._onappear,this);s.addListener(m,this._onTableWidthChanged,this);s.addListener(l,this._onverticalscrollbarchanged,this);s.addListener(n,this._addResetColumnWidthButton,this);this.addListener(d,this._oncolumnwidthchanged,this);this.addListener(g,this._onvisibilitychanged,this);};if(this.getBehavior()==null){this.setBehavior(new qx.ui.table.columnmodel.resizebehavior.Default());};this.getBehavior()._setNumColumns(r);},getTable:function(){return this.__nq;},_addResetColumnWidthButton:function(event){var v=event.getData();var u=v.columnButton;var t=v.menu;var o;o=u.factory(h);t.add(o);o=u.factory(b,{text:this.tr(f)});t.add(o);o.addListener(c,this._onappear,this);},_onappear:function(event){if(this.__oE){return;};this.__oE=true;{};this.getBehavior().onAppear(event,event.getType()!==a);this.__nq._updateScrollerWidths();this.__nq._updateScrollBarVisibility();this.__oE=false;this.__oF=true;},_onTableWidthChanged:function(event){if(this.__oE||!this.__oF){return;};this.__oE=true;{};this.getBehavior().onTableWidthChanged(event);this.__oE=false;},_onverticalscrollbarchanged:function(event){if(this.__oE||!this.__oF){return;};this.__oE=true;{};this.getBehavior().onVerticalScrollBarChanged(event);qx.event.Timer.once(function(){if(this.__nq&&!this.__nq.isDisposed()){this.__nq._updateScrollerWidths();this.__nq._updateScrollBarVisibility();};},this,0);this.__oE=false;},_oncolumnwidthchanged:function(event){if(this.__oE||!this.__oF){return;};this.__oE=true;{};this.getBehavior().onColumnWidthChanged(event);this.__oE=false;},_onvisibilitychanged:function(event){if(this.__oE||!this.__oF){return;};this.__oE=true;{};this.getBehavior().onVisibilityChanged(event);this.__oE=false;}},destruct:function(){this.__nq=null;}});})();(function(){var j="open",h="abstract",g="addItem",f="removeItem",e="__mG",d="__ff",c="visible",b="excluded",a="qx.ui.tree.core.AbstractTreeItem";qx.Class.define(a,{extend:qx.ui.tree.core.AbstractItem,type:h,construct:function(k){qx.ui.tree.core.AbstractItem.call(this,k);this.__ff=[];},properties:{parent:{check:a,nullable:true}},members:{__ff:null,__mG:null,getTree:function(){var n=this;while(n.getParent()){n=n.getParent();};var m=n.getLayoutParent()?n.getLayoutParent().getLayoutParent():0;if(m&&m instanceof qx.ui.core.scroll.ScrollPane){return m.getLayoutParent();};return null;},_applyOpen:function(o,p){if(this.hasChildren()){this.getChildrenContainer().setVisibility(o?c:b);};qx.ui.tree.core.AbstractItem.prototype._applyOpen.call(this,o,p);},_shouldShowOpenSymbol:function(){var open=this.getChildControl(j,true);if(!open){return false;};var q=this.getTree();if(!q.getRootOpenClose()){if(q.getHideRoot()){if(q.getRoot()==this.getParent()){return false;};}else {if(q.getRoot()==this){return false;};};};return this.isOpenable();},_updateIndent:function(){if(!this.getTree()){return;};qx.ui.tree.core.AbstractItem.prototype._updateIndent.call(this);},getLevel:function(){var r=this.getTree();if(!r){return;};var s=this;var t=-1;while(s){s=s.getParent();t+=1;};if(r.getHideRoot()){t-=1;};if(!r.getRootOpenClose()){t-=1;};return t;},addState:function(u){qx.ui.tree.core.AbstractItem.prototype.addState.call(this,u);var w=this._getChildren();for(var i=0,l=w.length;i<l;i++){var v=w[i];if(v.addState){w[i].addState(u);};};},removeState:function(x){qx.ui.tree.core.AbstractItem.prototype.removeState.call(this,x);var z=this._getChildren();for(var i=0,l=z.length;i<l;i++){var y=z[i];if(y.removeState){z[i].removeState(x);};};},getChildrenContainer:function(){if(!this.__mG){this.__mG=new qx.ui.container.Composite(new qx.ui.layout.VBox()).set({visibility:this.isOpen()?c:b});};return this.__mG;},hasChildrenContainer:function(){return this.__mG;},getParentChildrenContainer:function(){if(this.getParent()){return this.getParent().getChildrenContainer();}else if(this.getLayoutParent()){return this.getLayoutParent();}else {return null;};},getChildren:function(){return this.__ff;},hasChildren:function(){return this.__ff?this.__ff.length>0:false;},getItems:function(A,B,C){if(C!==false){var D=[];}else {var D=[this];};var G=this.hasChildren()&&(B!==false||this.isOpen());if(G){var F=this.getChildren();if(A===false){D=D.concat(F);}else {for(var i=0,E=F.length;i<E;i++){D=D.concat(F[i].getItems(A,B,false));};};};return D;},recursiveAddToWidgetQueue:function(){var H=this.getItems(true,true,false);for(var i=0,l=H.length;i<l;i++){qx.ui.core.queue.Widget.add(H[i]);};},__mH:function(){if(this.getParentChildrenContainer()){this.getParentChildrenContainer()._addAfter(this.getChildrenContainer(),this);};},add:function(I){var J=this.getChildrenContainer();var M=this.getTree();for(var i=0,l=arguments.length;i<l;i++){var N=arguments[i];var L=N.getParent();if(L){L.remove(N);};N.setParent(this);var K=this.hasChildren();J.add(N);if(N.hasChildren()){J.add(N.getChildrenContainer());};this.__ff.push(N);if(!K){this.__mH();};if(M){N.recursiveAddToWidgetQueue();M.fireNonBubblingEvent(g,qx.event.type.Data,[N]);};};if(M){qx.ui.core.queue.Widget.add(this);};},addAt:function(O,P){{};if(P==this.__ff.length){this.add(O);return;};var T=O.getParent();if(T){T.remove(O);};var R=this.getChildrenContainer();O.setParent(this);var S=this.hasChildren();var Q=this.__ff[P];R.addBefore(O,Q);if(O.hasChildren()){R.addAfter(O.getChildrenContainer(),O);};qx.lang.Array.insertAt(this.__ff,O,P);if(!S){this.__mH();};if(this.getTree()){O.recursiveAddToWidgetQueue();qx.ui.core.queue.Widget.add(this);};},addBefore:function(U,V){{};var W=U.getParent();if(W){W.remove(U);};this.addAt(U,this.__ff.indexOf(V));},addAfter:function(X,Y){{};var ba=X.getParent();if(ba){ba.remove(X);};this.addAt(X,this.__ff.indexOf(Y)+1);},addAtBegin:function(bb){this.addAt(bb,0);},remove:function(bc){for(var i=0,l=arguments.length;i<l;i++){var bg=arguments[i];if(this.__ff.indexOf(bg)==-1){this.warn("Cannot remove treeitem '"+bg+"'. It is not a child of this tree item.");return;};var bd=this.getChildrenContainer();if(bg.hasChildrenContainer()){var bf=bg.getChildrenContainer();if(bd.getChildren().indexOf(bf)>=0){bd.remove(bf);};};qx.lang.Array.remove(this.__ff,bg);bg.setParent(null);bd.remove(bg);};var be=this.getTree();if(be){be.fireNonBubblingEvent(f,qx.event.type.Data,[bg]);};qx.ui.core.queue.Widget.add(this);},removeAt:function(bh){var bi=this.__ff[bh];if(bi){this.remove(bi);};},removeAll:function(){var bj=this.__ff.concat();for(var i=this.__ff.length-1;i>=0;i--){this.remove(this.__ff[i]);};return bj;}},destruct:function(){this._disposeArray(d);this._disposeObjects(e);}});})();(function(){var i="click",h="mousedown",g="Boolean",f="changeOpen",d="_applyOpen",c="mouseup",b="qx.ui.tree.core.FolderOpenButton",a="opened";qx.Class.define(b,{extend:qx.ui.basic.Image,include:qx.ui.core.MExecutable,construct:function(){qx.ui.basic.Image.call(this);this.initOpen();this.addListener(i,this._onClick);this.addListener(h,this._stopPropagation,this);this.addListener(c,this._stopPropagation,this);},properties:{open:{check:g,init:false,event:f,apply:d}},members:{_applyOpen:function(j,k){j?this.addState(a):this.removeState(a);this.execute();},_stopPropagation:function(e){e.stopPropagation();},_onClick:function(e){this.toggleOpen();e.stopPropagation();}}});})();(function(){var a="qx.ui.tree.core.IVirtualTree";qx.Interface.define(a,{members:{isShowTopLevelOpenCloseIcons:function(){},getLookupTable:function(){},isNode:function(b){this.assertArgumentsCount(arguments,1,1);this.assertInterface(b,qx.core.Object);},isNodeOpen:function(c){this.assertArgumentsCount(arguments,1,1);this.assertInterface(c,qx.core.Object);},getLevel:function(d){this.assertArgumentsCount(arguments,1,1);this.assertInteger(d);},hasChildren:function(e){this.assertArgumentsCount(arguments,1,1);this.assertInterface(e,qx.core.Object);},openNode:function(f){this.assertArgumentsCount(arguments,1,1);this.assertInterface(f,qx.core.Object);},closeNode:function(g){this.assertArgumentsCount(arguments,1,1);this.assertInterface(g,qx.core.Object);},getSelection:function(){}}});})();(function(){var l="changeModel",k="_applyLabelOptions",j="_applyOpenMode",h="qx.core.Object",g="Space",f="Left",d="filter",c="Integer",b="_applyModel",a="_applyShowTopLevelOpenCloseIcons",P="_applyLabelPath",O="open",N="changeOpenMode",M="changeDelegate",L="virtual-tree",K="_applyChildProperty",J="_applyIconPath",I="_applyDelegate",H="_applyHideRoot",G="close",s="_applyRowHeight",t="sorter",q="Right",r="Enter",o="qx.ui.tree.VirtualTree",p="keypress",m="none",n="_applyShowLeafs",u="_applyIconOptions",v=".",y="one",x="qx.event.type.Data",A="updated",z="Boolean",C="click",B="String",w="changeBubble",F="dblclick",E="cellDblclick",D="cellClick";qx.Class.define(o,{extend:qx.ui.virtual.core.Scroller,implement:[qx.ui.tree.core.IVirtualTree,qx.data.controller.ISelection],include:[qx.ui.virtual.selection.MModel,qx.ui.core.MContentPadding],construct:function(Q,R,S){qx.ui.virtual.core.Scroller.call(this,0,1,20,100);this._init();if(R!=null){this.setLabelPath(R);};if(S!=null){this.setChildProperty(S);};if(Q!=null){this.initModel(Q);};this.initItemHeight();this.initOpenMode();this.addListener(p,this._onKeyPress,this);},events:{open:x,close:x},properties:{appearance:{refine:true,init:L},focusable:{refine:true,init:true},width:{refine:true,init:100},height:{refine:true,init:200},itemHeight:{check:c,init:25,apply:s,themeable:true},openMode:{check:[C,F,m],init:F,apply:j,event:N,themeable:true},hideRoot:{check:z,init:false,apply:H},showTopLevelOpenCloseIcons:{check:z,init:false,apply:a},showLeafs:{check:z,init:true,apply:n},childProperty:{check:B,apply:K,nullable:true},labelPath:{check:B,apply:P,nullable:true},iconPath:{check:B,apply:J,nullable:true},labelOptions:{apply:k,nullable:true},iconOptions:{apply:u,nullable:true},model:{check:h,apply:b,event:l,nullable:true,deferredInit:true},delegate:{event:M,apply:I,init:null,nullable:true}},members:{_provider:null,_layer:null,__zR:null,__Gd:null,__Ge:null,__fq:null,__Gf:0,__Gg:null,syncWidget:function(T){var X=this._layer.getFirstRow();var U=this._layer.getRowSizes().length;for(var Y=X;Y<X+U;Y++){var V=this._layer.getRenderedCellWidget(Y,0);if(V!=null){this.__Gf=Math.max(this.__Gf,V.getSizeHint().width);};};var W=this.getPane().getInnerSize().width;this.getPane().getColumnConfig().setItemSize(0,Math.max(this.__Gf,W));},openNode:function(ba){this.__Gj(ba);this.buildLookupTable();},refresh:function(){this.buildLookupTable();},openNodeAndParents:function(bb){this.__Gk(this.getModel(),bb);this.buildLookupTable();},closeNode:function(bc){if(qx.lang.Array.contains(this.__Gd,bc)){qx.lang.Array.remove(this.__Gd,bc);this.fireDataEvent(G,bc);this.buildLookupTable();};},isNodeOpen:function(bd){return qx.lang.Array.contains(this.__Gd,bd);},_init:function(){this.__zR=new qx.data.Array();this.__Gd=[];this.__Ge=[];this._initLayer();},_initLayer:function(){this._provider=new qx.ui.tree.provider.WidgetProvider(this);this._layer=this._provider.createLayer();this._layer.addListener(A,this._onUpdated,this);this.getPane().addLayer(this._layer);},getLookupTable:function(){return this.__zR;},_reverseLookup:function(be){return be;},_getDataFromRow:function(bf){return this.__zR.getItem(bf);},_getSelectables:function(){return this.__zR;},getOpenNodes:function(){return this.__Gd;},isNode:function(bg){return qx.Class.hasProperty(bg.constructor,this.getChildProperty());},getLevel:function(bh){return this.__Ge[bh];},hasChildren:function(bi){var bj=bi.get(this.getChildProperty());if(bj==null){return false;};if(this.isShowLeafs()){return bj.length>0;}else {for(var i=0;i<bj.getLength();i++){var bk=bj.getItem(i);if(this.isNode(bk)){return true;};};};return false;},_getContentPaddingTarget:function(){return this.getPane();},_applyRowHeight:function(bl,bm){this.getPane().getRowConfig().setDefaultItemSize(bl);},_applyOpenMode:function(bn,bo){var bp=this.getPane();if(bn===F){bp.addListener(E,this._onOpen,this);}else if(bn===C){bp.addListener(D,this._onOpen,this);};if(bo===F){bp.removeListener(E,this._onOpen,this);}else if(bo===C){bp.removeListener(D,this._onOpen,this);};},_applyHideRoot:function(bq,br){this.buildLookupTable();},_applyShowTopLevelOpenCloseIcons:function(bs,bt){this.buildLookupTable();},_applyShowLeafs:function(bu,bv){this.buildLookupTable();},_applyChildProperty:function(bw,bx){this._provider.setChildProperty(bw);},_applyLabelPath:function(by,bz){this._provider.setLabelPath(by);},_applyIconPath:function(bA,bB){this._provider.setIconPath(bA);},_applyLabelOptions:function(bC,bD){this._provider.setLabelOptions(bC);},_applyIconOptions:function(bE,bF){this._provider.setIconOptions(bE);},_applyModel:function(bG,bH){this.__Gd=[];if(bG!=null){{};bG.addListener(w,this._onChangeBubble,this);this.__Gj(bG);};if(bH!=null){bH.removeListener(w,this._onChangeBubble,this);};this.__Gh();},_applyDelegate:function(bI,bJ){this._provider.setDelegate(bI);this.buildLookupTable();},_onChangeBubble:function(event){var bL=event.getData().name;var bK=bL.lastIndexOf(v);if(bK!=-1){bL=bL.substr(bK+1,bL.length);};if(qx.lang.String.startsWith(bL,this.getChildProperty())){this.__Gh();};},_onUpdated:function(event){if(this.__fq==null){this.__fq=new qx.util.DeferredCall(function(){qx.ui.core.queue.Widget.add(this);},this);};this.__fq.schedule();},_onOpen:function(event){var bN=event.getRow();var bM=this.__zR.getItem(bN);if(this.isNode(bM)){if(this.isNodeOpen(bM)){this.closeNode(bM);}else {this.openNode(bM);};};},_onKeyPress:function(e){var bQ=this.getSelection();if(bQ.getLength()>0){var bO=bQ.getItem(0);var bP=this.isNode(bO);switch(e.getKeyIdentifier()){case f:if(bP&&this.isNodeOpen(bO)){this.closeNode(bO);}else {var parent=this.getParent(bO);if(parent!=null){bQ.splice(0,1,parent);};};break;case q:if(bP&&!this.isNodeOpen(bO)){this.openNode(bO);}else {if(bP){var bR=bO.get(this.getChildProperty());if(bR!=null&&bR.getLength()>0){bQ.splice(0,1,bR.getItem(0));};};};break;case r:case g:if(!bP){return;};if(this.isNodeOpen(bO)){this.closeNode(bO);}else {this.openNode(bO);};break;};};},_beforeApplySelection:function(bS){if(bS.length===0&&this.getSelectionMode()===y){var bT=this.__Gm();var bU=this.getLookupTable().indexOf(bT);if(bU>=0){bS.push(bU);};};},_afterApplySelection:function(){var bV=this.getSelection();if(bV.getLength()>0&&this.getSelectionMode()===y){this.__Gl(bV.getItem(0));}else {this.__Gg=[];};},__Gh:function(){this.buildLookupTable();this._applyDefaultSelection();},buildLookupTable:function(){if(this.getModel()!=null&&(this.getChildProperty()==null||this.getLabelPath()==null)){throw new Error("Could not build tree, because 'childProperty' and/"+"or 'labelPath' is 'null'!");};this.__Gf=0;var ca=[];this.__Ge=[];var bX=-1;var bY=this.getModel();if(bY!=null){if(!this.isHideRoot()){bX++;ca.push(bY);this.__Ge.push(bX);};if(this.isNodeOpen(bY)){var bW=this.__Gi(bY,bX);ca=ca.concat(bW);};};this._provider.removeBindings();this.__zR.removeAll();this.__zR.append(ca);this.__zX();this._updateSelection();},__Gi:function(cb,cc){var cg=[];cc++;if(!this.isNode(cb)){return cg;};var cj=cb.get(this.getChildProperty());if(cj==null){return cg;};cj=cj.copy();var ch=this.getDelegate();var cf=qx.util.Delegate.getMethod(ch,d);var ce=qx.util.Delegate.getMethod(ch,t);if(ce!=null){cj.sort(ce);};for(var i=0;i<cj.getLength();i++){var ci=cj.getItem(i);if(cf&&!cf(ci)){continue;};if(this.isNode(ci)){this.__Ge.push(cc);cg.push(ci);if(this.isNodeOpen(ci)){var cd=this.__Gi(ci,cc);cg=cg.concat(cd);};}else {if(this.isShowLeafs()){this.__Ge.push(cc);cg.push(ci);};};};cj.dispose();return cg;},__Gj:function(ck){if(!qx.lang.Array.contains(this.__Gd,ck)){this.__Gd.push(ck);this.fireDataEvent(O,ck);};},__Gk:function(cl,cm){if(cl===cm){this.__Gj(cm);return true;};if(!this.isNode(cl)){return false;};var co=cl.get(this.getChildProperty());if(co==null){return false;};for(var i=0;i<co.getLength();i++){var cp=co.getItem(i);var cn=this.__Gk(cp,cm);if(cn===true){this.__Gj(cp);return true;};};return false;},__zX:function(){this.getPane().getRowConfig().setItemCount(this.__zR.getLength());this.getPane().fullUpdate();},getParent:function(cq){var cs=this.__zR.indexOf(cq);if(cs<0){return null;};var ct=this.__Ge[cs];while(cs>0){cs--;var cr=this.__Ge[cs];if(cr<ct){return this.__zR.getItem(cs);};};return null;},__Gl:function(cu){this.__Gg=[];var parent=this.getParent(cu);while(parent!=null){this.__Gg.unshift(parent);parent=this.getParent(parent);};},__Gm:function(){if(this.__Gg==null){return this.getModel();};var cv=this.getLookupTable();var parent=this.__Gg.pop();while(parent!=null){if(cv.contains(parent)){return parent;};parent=this.__Gg.pop();};return this.getModel();}},destruct:function(){var cx=this.getPane();if(cx!=null){if(cx.hasListener(E)){cx.removeListener(E,this._onOpen,this);};if(cx.hasListener(D)){cx.removeListener(D,this._onOpen,this);};};if(!qx.core.ObjectRegistry.inShutDown&&this.__fq!=null){this.__fq.cancel();this.__fq.dispose();};var cw=this.getModel();if(cw!=null){cw.removeListener(w,this._onChangeBubble,this);};this._layer.removeListener(A,this._onUpdated,this);this._layer.destroy();this._provider.dispose();this.__zR.dispose();this._layer=this._provider=this.__zR=this.__Gd=this.__fq=null;}});})();(function(){var q="model",p="changeDelegate",o="virtual-tree-file",n="label",m="appearance",l="icon",k="bindItem",j=".length",i="]",h="virtual-tree-folder",c="[",g=".",f="qx.ui.tree.core.MWidgetController",b="BindingIds",a="",d="String";qx.Mixin.define(f,{construct:function(){this.__Ae=[];},properties:{labelPath:{check:d,nullable:true},iconPath:{check:d,nullable:true},labelOptions:{nullable:true},iconOptions:{nullable:true},childProperty:{check:d,nullable:true},delegate:{event:p,init:null,nullable:true}},members:{__Ae:null,bindDefaultProperties:function(r,s){this.bindProperty(a,q,null,r,s);this.bindProperty(this.getLabelPath(),n,this.getLabelOptions(),r,s);try{this.bindProperty(this.getChildProperty()+j,m,{converter:function(){return h;}},r,s);}catch(t){r.setAppearance(o);};if(this.getIconPath()!=null){this.bindProperty(this.getIconPath(),l,this.getIconOptions(),r,s);};},bindProperty:function(u,v,w,x,y){var z=this.__Af(y,u);var A=this._tree.getLookupTable();var B=A.bind(z,x,v,w);this.__Ag(x,B);},bindPropertyReverse:function(C,D,E,F,G){var H=this.__Af(G,C);var I=this._tree.getLookupTable();var J=F.bind(D,I,H,E);this.__Ag(F,J);},removeBindings:function(){while(this.__Ae.length>0){var K=this.__Ae.pop();this._removeBindingsFrom(K);};},_bindItem:function(L,M){var N=qx.util.Delegate.getMethod(this.getDelegate(),k);if(N!=null){N(this,L,M);}else {this.bindDefaultProperties(L,M);};},_removeBindingsFrom:function(O){var P=this.__Ah(O);while(P.length>0){var Q=P.pop();try{this._tree.getLookupTable().removeBinding(Q);}catch(e){O.removeBinding(Q);};};if(qx.lang.Array.contains(this.__Ae,O)){qx.lang.Array.remove(this.__Ae,O);};},__Af:function(R,S){var T=c+R+i;if(S!=null&&S!=a){T+=g+S;};return T;},__Ag:function(U,V){var W=this.__Ah(U);if(!qx.lang.Array.contains(W,V)){W.push(V);};if(!qx.lang.Array.contains(this.__Ae,U)){this.__Ae.push(U);};},__Ah:function(X){var Y=X.getUserData(b);if(Y==null){Y=[];X.setUserData(b,Y);};return Y;}},destruct:function(){this.__Ae=null;}});})();(function(){var e="qx.ui.tree.selection.SelectionManager",d="above",c="under",b="right",a="left";qx.Class.define(e,{extend:qx.ui.core.selection.ScrollArea,members:{_getSelectableLocationY:function(f){var g=f.getBounds();if(g){var top=this._getWidget().getItemTop(f);return {top:top,bottom:top+g.height};};},_isSelectable:function(h){return this._isItemSelectable(h)&&h instanceof qx.ui.tree.core.AbstractTreeItem;},_getSelectableFromMouseEvent:function(event){return this._getWidget().getTreeItem(event.getTarget());},getSelectables:function(j){var m=false;if(!j){m=this._userInteraction;this._userInteraction=true;};var l=this._getWidget();var n=[];if(l.getRoot()!=null){var k=l.getRoot().getItems(true,!!j,l.getHideRoot());for(var i=0;i<k.length;i++){if(this._isSelectable(k[i])){n.push(k[i]);};};};this._userInteraction=m;return n;},_getSelectableRange:function(o,p){if(o===p){return [o];};var q=this.getSelectables();var r=q.indexOf(o);var s=q.indexOf(p);if(r<0||s<0){return [];};if(r<s){return q.slice(r,s+1);}else {return q.slice(s,r+1);};},_getFirstSelectable:function(){return this.getSelectables()[0]||null;},_getLastSelectable:function(){var t=this.getSelectables();if(t.length>0){return t[t.length-1];}else {return null;};},_getRelatedSelectable:function(u,v){var w=this._getWidget();var x=null;switch(v){case d:x=w.getPreviousNodeOf(u,false);break;case c:x=w.getNextNodeOf(u,false);break;case a:case b:break;};if(!x){return null;};if(this._isSelectable(x)){return x;}else {return this._getRelatedSelectable(x,v);};}}});})();(function(){var l="never",k="changeDelegate",j="cell.level",i="createItem",h="auto",g="cell.children",f="configureItem",e="created",d="onPool",c="cell.row",a="qx.ui.tree.provider.WidgetProvider",b="changeOpen";qx.Class.define(a,{extend:qx.core.Object,implement:[qx.ui.virtual.core.IWidgetCellProvider,qx.ui.tree.provider.IVirtualTreeProvider],include:[qx.ui.tree.core.MWidgetController],construct:function(m){qx.core.Object.call(this);this._tree=m;this.addListener(k,this._onChangeDelegate,this);this._onChangeDelegate();},members:{_tree:null,_renderer:null,getCellWidget:function(n,o){var p=this._tree.getLookupTable().getItem(n);var r=false;if(this._tree.isNode(p)){r=this._tree.hasChildren(p);};var q=this._renderer.getCellWidget();q.setOpen(r&&this._tree.isNodeOpen(p));q.setUserData(g,r);q.addListener(b,this.__Gn,this);if(this._tree.getSelection().contains(p)){this._styleSelectabled(q);}else {this._styleUnselectabled(q);};var s=this._tree.getLevel(n);if(!this._tree.isShowTopLevelOpenCloseIcons()){s-=1;};q.setUserData(j,s);if(!this._tree.isShowTopLevelOpenCloseIcons()&&s==-1){q.setOpenSymbolMode(l);}else {q.setOpenSymbolMode(h);};this._bindItem(q,n);qx.ui.core.queue.Widget.add(q);return q;},poolCellWidget:function(t){t.removeListener(b,this.__Gn,this);this._removeBindingsFrom(t);this._renderer.pool(t);this._onPool(t);},createLayer:function(){return new qx.ui.virtual.layer.WidgetCell(this);},createRenderer:function(){var u=qx.util.Delegate.getMethod(this.getDelegate(),i);if(u==null){u=function(){return new qx.ui.tree.VirtualTreeItem();};};var v=new qx.ui.virtual.cell.WidgetCell();v.setDelegate({createWidget:u});return v;},styleSelectabled:function(w){var x=this._tree._layer.getRenderedCellWidget(w,0);this._styleSelectabled(x);},styleUnselectabled:function(y){var z=this._tree._layer.getRenderedCellWidget(y,0);this._styleUnselectabled(z);},isSelectable:function(A){var B=this._tree._layer.getRenderedCellWidget(A,0);if(B!=null){return B.isEnabled();}else {return true;};},_styleSelectabled:function(C){if(C==null){return;};this._renderer.updateStates(C,{selected:1});},_styleUnselectabled:function(D){if(D==null){return;};this._renderer.updateStates(D,{});},_onPool:function(E){var F=qx.util.Delegate.getMethod(this.getDelegate(),d);if(F!=null){F(E);};},_onItemCreated:function(event){var H=qx.util.Delegate.getMethod(this.getDelegate(),f);if(H!=null){var G=event.getData();H(G);};},_onChangeDelegate:function(event){if(this._renderer!=null){this._renderer.dispose();this.removeBindings();};this._renderer=this.createRenderer();this._renderer.addListener(e,this._onItemCreated,this);},__Gn:function(event){var J=event.getTarget();var K=J.getUserData(c);var I=this._tree.getLookupTable().getItem(K);if(event.getData()){this._tree.openNode(I);}else {this._tree.closeNode(I);};}},destruct:function(){this.removeBindings();this._renderer.dispose();this._tree=this._renderer=null;}});})();(function(){var l='</span>',k='background-image:url(',j='">&nbsp;</div>',h="treevirtual-file",g="qx.ui.treevirtual.SimpleTreeDataCellRenderer",e='height:',d='style="',c='top:0;',b='background-repeat:no-repeat;',a='right:',M='<div style="',L='" title="',K=');',J='<span',I=';width:',H=';"',G='>',F='bottom:',E="qx.dynlocale",D='top:',t="content-box",u="static/blank.gif",r="css.boxsizing",s="treevirtual-folder",p='width:',q=';height:',m='px',n='</div>',v='<div style="position:absolute;',w='">',y='left:',x=";",A="Boolean",z='',C="",B='px;';qx.Class.define(g,{extend:qx.ui.table.cellrenderer.Abstract,construct:function(){var N=qx.ui.treevirtual.SimpleTreeDataCellRenderer;if(N.__FD){N.__FG();N.__FD=false;};qx.ui.table.cellrenderer.Abstract.call(this);this.__rn=qx.util.AliasManager.getInstance();this.__FE=qx.util.ResourceManager.getInstance();this.__FF=qx.theme.manager.Appearance.getInstance();this.BLANK=this.__FE.toUri(this.__rn.resolve(u));},statics:{__DM:{},__FD:true,__FG:function(){var O=qx.ui.treevirtual.SimpleTreeDataCellRenderer;var R=qx.io.ImageLoader;var P=qx.util.AliasManager.getInstance();var S=qx.util.ResourceManager.getInstance();var Q=qx.theme.manager.Appearance.getInstance();var T=function(f){R.load(S.toUri(P.resolve(f)));};O.__DM.line=Q.styleFrom("treevirtual-line");T(O.__DM.line.icon);O.__DM.contract=Q.styleFrom("treevirtual-contract");T(O.__DM.contract.icon);O.__DM.expand=Q.styleFrom("treevirtual-expand");T(O.__DM.expand.icon);O.__DM.onlyContract=Q.styleFrom("treevirtual-only-contract");T(O.__DM.onlyContract.icon);O.__DM.onlyExpand=Q.styleFrom("treevirtual-only-expand");T(O.__DM.onlyExpand.icon);O.__DM.startContract=Q.styleFrom("treevirtual-start-contract");T(O.__DM.startContract.icon);O.__DM.startExpand=Q.styleFrom("treevirtual-start-expand");T(O.__DM.startExpand.icon);O.__DM.endContract=Q.styleFrom("treevirtual-end-contract");T(O.__DM.endContract.icon);O.__DM.endExpand=Q.styleFrom("treevirtual-end-expand");T(O.__DM.endExpand.icon);O.__DM.crossContract=Q.styleFrom("treevirtual-cross-contract");T(O.__DM.crossContract.icon);O.__DM.crossExpand=Q.styleFrom("treevirtual-cross-expand");T(O.__DM.crossExpand.icon);O.__DM.end=Q.styleFrom("treevirtual-end");T(O.__DM.end.icon);O.__DM.cross=Q.styleFrom("treevirtual-cross");T(O.__DM.cross.icon);}},properties:{useTreeLines:{check:A,init:true},excludeFirstLevelTreeLines:{check:A,init:false},alwaysShowOpenCloseSymbol:{check:A,init:false}},members:{__rn:null,__FF:null,__FE:null,_onChangeTheme:function(){qx.ui.table.cellrenderer.Abstract.prototype._onChangeTheme.call(this);qx.ui.treevirtual.SimpleTreeDataCellRenderer.__FG();},_getCellStyle:function(U){var V=U.value;var W=qx.ui.table.cellrenderer.Abstract.prototype._getCellStyle.call(this,U)+(V.cellStyle?V.cellStyle+x:C);return W;},_getContentHtml:function(X){var ba=C;var bb=0;var bd=this._addExtraContentBeforeIndentation(X,bb);ba+=bd.html;bb=bd.pos;var bc=this._addIndentation(X,bb);ba+=bc.html;bb=bc.pos;bd=this._addExtraContentBeforeIcon(X,bb);ba+=bd.html;bb=bd.pos;var Y=this._addIcon(X,bb);ba+=Y.html;bb=Y.pos;bd=this._addExtraContentBeforeLabel(X,bb);ba+=bd.html;bb=bd.pos;ba+=this._addLabel(X,bb);return ba;},_addImage:function(be){var bg=[];var bf=this.__FE.toUri(this.__rn.resolve(be.url));if(be.position){var bh=be.position;bg.push(v);if(qx.core.Environment.get(r)){bg.push(qx.bom.element.BoxSizing.compile(t));};if(bh.top!==undefined){bg.push(D+bh.top+B);};if(bh.right!==undefined){bg.push(a+bh.right+B);};if(bh.bottom!==undefined){bg.push(F+bh.bottom+B);};if(bh.left!==undefined){bg.push(y+bh.left+B);};if(bh.width!==undefined){bg.push(p+bh.width+B);};if(bh.height!==undefined){bg.push(e+bh.height+B);};bg.push(w);};bg.push(M);bg.push(k+bf+K);bg.push(b);if(be.imageWidth&&be.imageHeight){bg.push(I+be.imageWidth+m+q+be.imageHeight+m);};var bi=be.tooltip;if(bi!=null){bg.push(L+bi);};bg.push(j);if(be.position){bg.push(n);};return bg.join(C);},_addIndentation:function(bj,bk){var bl=bj.value;var bn;var bo=C;var br=this.getUseTreeLines();var bp=this.getExcludeFirstLevelTreeLines();var bq=this.getAlwaysShowOpenCloseSymbol();for(var i=0;i<bl.level;i++){bn=this._getIndentSymbol(i,bl,br,bq,bp);var bm=bj.table.getRowHeight();bo+=this._addImage({url:bn.icon,position:{top:0+(bn.paddingTop||0),left:bk+(bn.paddingLeft||0),width:bm+3,height:bm},imageWidth:bm,imageHeight:bm});bk+=bm+3;};return ({html:bo,pos:bk});},_addIcon:function(bs,bt){var bu=bs.value;var bw=(bu.bSelected?bu.iconSelected:bu.icon);if(!bw){if(bu.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){var o=this.__FF.styleFrom(h);}else {var bx={opened:bu.bOpened};var o=this.__FF.styleFrom(s,bx);};bw=o.icon;};var bv=bs.table.getRowHeight();var by=this._addImage({url:bw,position:{top:0,left:bt,width:bv+3,height:bv},imageWidth:bv,imageHeight:bv});return ({html:by,pos:bt+bv+3});},_addLabel:function(bz,bA){var bB=bz.value;var bD=bB.label;if(qx.core.Environment.get(E)){if(bD&&bD.translate){bD=bD.translate();};};var bC=v+y+bA+B+c+(bB.labelStyle?bB.labelStyle+x:C)+w+J+(bz.labelSpanStyle?d+bz.labelSpanStyle+H:C)+G+bD+l+n;return bC;},_addExtraContentBeforeIndentation:function(bE,bF){return {html:z,pos:bF};},_addExtraContentBeforeIcon:function(bG,bH){return {html:z,pos:bH};},_addExtraContentBeforeLabel:function(bI,bJ){return {html:z,pos:bJ};},_getIndentSymbol:function(bK,bL,bM,bN,bO){var bP=qx.ui.treevirtual.SimpleTreeDataCellRenderer;if(bK==0&&bO){bM=false;};if(bK<bL.level-1){return (bM&&!bL.lastChild[bK]?bP.__DM.line:{icon:this.BLANK});};var bQ=bL.lastChild[bL.lastChild.length-1];if(bL.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH&&!bL.bHideOpenClose){if(bL.children.length>0||bN){if(!bM){return (bL.bOpened?bP.__DM.contract:bP.__DM.expand);};if(bK==0&&bL.bFirstChild){if(bQ){return (bL.bOpened?bP.__DM.onlyContract:bP.__DM.onlyExpand);}else {return (bL.bOpened?bP.__DM.startContract:bP.__DM.startExpand);};};if(bQ){return (bL.bOpened?bP.__DM.endContract:bP.__DM.endExpand);};return (bL.bOpened?bP.__DM.crossContract:bP.__DM.crossExpand);};};if(bM){if(bL.parentNodeId==0){if(bQ&&bL.bFirstChild){return {icon:this.BLANK};};if(bQ){return bP.__DM.end;};if(bL.bFirstChild&&bL.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH){return (bL.bOpened?bP.__DM.startContract:bP.__DM.startExpand);};};return (bQ?bP.__DM.end:bP.__DM.cross);};return {icon:this.BLANK};}},destruct:function(){this.__rn=this.__FE=this.__FF=null;}});})();(function(){var b="qx.ui.tree.TreeFile",a="tree-file";qx.Class.define(b,{extend:qx.ui.tree.core.AbstractTreeItem,properties:{appearance:{refine:true,init:a}},members:{_addWidgets:function(){this.addSpacer();this.addIcon();this.addLabel();}}});})();(function(){var c="qx.ui.treevirtual.SelectionManager",b="Space",a="Enter";qx.Class.define(c,{extend:qx.ui.table.selection.Manager,construct:function(d){qx.ui.table.selection.Manager.call(this);this.__nq=d;},members:{__nq:null,getTable:function(){return this.__nq;},_handleSelectEvent:function(e,f){var j=this;function g(k,l,m){var y=k.getDataModel();var s=y.getTreeColumn();var q=k.getFocusedColumn();if(q!=s){return false;};if(m instanceof qx.event.type.Mouse){if(!k.getFocusCellOnMouseMove()){var r=k._getPaneScrollerArr();for(var i=0;i<r.length;i++){r[i]._focusCellAtPagePos(m.getViewportLeft(),m.getViewportTop());};};};var n=y.getNode(k.getFocusedRow());if(!n){return false;};if(m instanceof qx.event.type.Mouse){var t=k.getTableColumnModel();var v=t._getColToXPosMap();var z=qx.bom.element.Location.getLeft(k.getContentElement().getDomElement());for(var i=0;i<v[s].visX;i++){z+=t.getColumnWidth(v[i].visX);};var x=m.getViewportLeft();var u=2;var p=j.__nq.getRowHeight();var o=z+(n.level-1)*(p+3)+2;if(x>=o-u&&x<=o+p+3+u){y.setState(n,{bOpened:!n.bOpened});return k.getOpenCloseClickSelectsRow()?false:true;}else {return j._handleExtendedClick(k,m,n,z);};}else {var w=m.getKeyIdentifier();switch(w){case b:return false;case a:if(!n.bHideOpenClose&&n.type!=qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){y.setState(n,{bOpened:!n.bOpened});};return k.getOpenCloseClickSelectsRow()?false:true;default:return true;};};};var h=g(this.__nq,e,f);if(!h){qx.ui.table.selection.Manager.prototype._handleSelectEvent.call(this,e,f);};},_handleExtendedClick:function(A,B,C,D){return false;}},destruct:function(){this.__nq=null;}});})();(function(){var e="string",d="number",c="*",b="qx.ui.core.ColumnData",a="auto";qx.Class.define(b,{extend:qx.ui.core.LayoutItem,construct:function(){qx.ui.core.LayoutItem.call(this);this.setColumnWidth(a);},members:{__oG:null,renderLayout:function(f,top,g,h){this.__oG=g;},getComputedWidth:function(){return this.__oG;},getFlex:function(){return this.getLayoutProperties().flex||0;},setColumnWidth:function(i,j){var j=j||0;var k=null;if(typeof i==d){this.setWidth(i);}else if(typeof i==e){if(i==a){j=1;}else {var l=i.match(/^[0-9]+(?:\.[0-9]+)?([%\*])$/);if(l){if(l[1]==c){j=parseFloat(i);}else {k=i;};};};};this.setLayoutProperties({flex:j,width:k});}},environment:{"qx.tableResizeDebug":false}});})();(function(){var b="qx.ui.table.columnmodel.resizebehavior.Abstract",a="abstract";qx.Class.define(b,{type:a,extend:qx.core.Object,members:{_setNumColumns:function(c){throw new Error("_setNumColumns is abstract");},onAppear:function(event,d){throw new Error("onAppear is abstract");},onTableWidthChanged:function(event){throw new Error("onTableWidthChanged is abstract");},onVerticalScrollBarChanged:function(event){throw new Error("onVerticalScrollBarChanged is abstract");},onColumnWidthChanged:function(event){throw new Error("onColumnWidthChanged is abstract");},onVisibilityChanged:function(event){throw new Error("onVisibilityChanged is abstract");},_getAvailableWidth:function(){var f=this.getTableColumnModel();var i=f.getTable();var e=i._getPaneScrollerArr();if(!e[0]||!e[0].getLayoutParent().getBounds()){return null;};var h=e[0].getLayoutParent().getBounds().width;var g=e[e.length-1];h-=g.getPaneInsetRight();return h;}}});})();(function(){var j="Function",h="Boolean",g="minWidth",f="width",e="qx.ui.table.columnmodel.Resize",d="qx.ui.table.columnmodel.resizebehavior.Default",c="__oI",b="maxWidth",a="__oJ";qx.Class.define(d,{extend:qx.ui.table.columnmodel.resizebehavior.Abstract,construct:function(){qx.ui.table.columnmodel.resizebehavior.Abstract.call(this);this.__oH=[];this.__oI=new qx.ui.layout.HBox();this.__oI.connectToWidget(this);this.__oJ=new qx.util.DeferredCall(this._computeColumnsFlexWidth,this);},properties:{newResizeBehaviorColumnData:{check:j,init:function(k){return new qx.ui.core.ColumnData();}},initializeWidthsOnEveryAppear:{check:h,init:false},tableColumnModel:{check:e}},members:{__oI:null,__oK:null,__oH:null,__oJ:null,__oL:false,setWidth:function(m,n,o){if(m>=this.__oH.length){throw new Error("Column number out of range");};this.__oH[m].setColumnWidth(n,o);this.__oJ.schedule();},setMinWidth:function(p,q){if(p>=this.__oH.length){throw new Error("Column number out of range");};this.__oH[p].setMinWidth(q);this.__oJ.schedule();},setMaxWidth:function(r,s){if(r>=this.__oH.length){throw new Error("Column number out of range");};this.__oH[r].setMaxWidth(s);this.__oJ.schedule();},set:function(t,u){for(var v in u){switch(v){case f:this.setWidth(t,u[v]);break;case g:this.setMinWidth(t,u[v]);break;case b:this.setMaxWidth(t,u[v]);break;default:throw new Error("Unknown property: "+v);};};},onAppear:function(event,w){if(w===true||!this.__oL||this.getInitializeWidthsOnEveryAppear()){this._computeColumnsFlexWidth();this.__oL=true;};},onTableWidthChanged:function(event){this._computeColumnsFlexWidth();},onVerticalScrollBarChanged:function(event){this._computeColumnsFlexWidth();},onColumnWidthChanged:function(event){this._extendNextColumn(event);},onVisibilityChanged:function(event){var x=event.getData();if(x.visible){this._computeColumnsFlexWidth();return;};this._extendLastColumn(event);},_setNumColumns:function(y){var z=this.__oH;if(y<=z.length){z.splice(y,z.length);return;};for(var i=z.length;i<y;i++){z[i]=this.getNewResizeBehaviorColumnData()();z[i].columnNumber=i;};},getLayoutChildren:function(){return this.__oK;},_computeColumnsFlexWidth:function(){this.__oJ.cancel();var E=this._getAvailableWidth();if(E===null){return;};var A=this.getTableColumnModel();var C=A.getVisibleColumns();var D=C.length;var B=this.__oH;var i,l;if(D===0){return;};var G=[];for(i=0;i<D;i++){G.push(B[C[i]]);};this.__oK=G;this.__oM();this.__oI.renderLayout(E,100);for(i=0,l=G.length;i<l;i++){var F=G[i].getComputedWidth();A.setColumnWidth(C[i],F);};},__oM:function(){this.__oI.invalidateChildrenCache();var H=this.__oK;for(var i=0,l=H.length;i<l;i++){H[i].invalidateLayoutCache();};},_extendNextColumn:function(event){var M=this.getTableColumnModel();var P=event.getData();var K=M.getVisibleColumns();var J=this._getAvailableWidth();var I=K.length;if(P.newWidth>P.oldWidth){return;};var i;var L;var O=0;for(i=0;i<I;i++){O+=M.getColumnWidth(K[i]);};if(O<J){for(i=0;i<K.length;i++){if(K[i]==P.col){L=K[i+1];break;};};if(L){var N=(J-(O-M.getColumnWidth(L)));M.setColumnWidth(L,N);};};},_extendLastColumn:function(event){var T=this.getTableColumnModel();var X=event.getData();if(X.visible){return;};var S=T.getVisibleColumns();if(S.length==0){return;};var R=this._getAvailableWidth(T);var Q=S.length;var i;var V;var W=0;for(i=0;i<Q;i++){W+=T.getColumnWidth(S[i]);};if(W<R){V=S[S.length-1];var U=(R-(W-T.getColumnWidth(V)));T.setColumnWidth(V,U);};},_getResizeColumnData:function(){return this.__oH;}},destruct:function(){this.__oH=this.__oK=null;this._disposeObjects(c,a);}});})();(function(){var a="qx.ui.treevirtual.SimpleTreeDataRowRenderer";qx.Class.define(a,{extend:qx.ui.table.rowrenderer.Default,construct:function(){qx.ui.table.rowrenderer.Default.call(this);},members:{updateDataRowElement:function(b,c){var f=b.table;var h=b.rowData;var g=f.getTableModel();var e=g.getTreeColumn();var d=h[e];b.selected=d.bSelected;if(d.bSelected){var i=b.row;f.getSelectionModel()._addSelectionInterval(i,i);};qx.ui.table.rowrenderer.Default.prototype.updateDataRowElement.call(this,b,c);}}});})();(function(){var k="Inherits from qx.ui.table.Table. Suited for multi-column trees.",j="Windows (C:)",h="Documents (D:)",g="TreeVirtual (Legacy)",f="Desktop",e="widgetbrowser.pages.Tree",d="loaded",c="Virtual implementation of Tree. Shares appearance.",b="Presets",a="Network",C="children",B="Files",A="TreeVirtual",z="name",y="root",x="Workspace",w="Junk #",v="Tree",u="Spam",t="widgetbrowser/tree.json",r="Spam Message #",s="VirtualTree",p="Inbox",q="Sent",n="Data",o="model",l="Edit",m="Trash";qx.Class.define(e,{extend:widgetbrowser.pages.AbstractPage,construct:function(){widgetbrowser.pages.AbstractPage.call(this);this.__mY=new qx.ui.container.Composite(new qx.ui.layout.Grid(10));this.add(this.__mY);this.initWidgets();},members:{__mY:null,initWidgets:function(){var H;var D=this._widgets;H=new qx.ui.basic.Label(v);this.__mY.add(H,{row:0,column:0});var F=this.__Pn();this.__mY.add(F,{row:1,column:0});D.push(F);H=new qx.ui.basic.Label(s);H.setToolTip(new qx.ui.tooltip.ToolTip(c));this.__mY.add(H,{row:0,column:1});var G=this.__Po();this.__mY.add(G,{row:1,column:1});D.push(G);H=new qx.ui.basic.Label(g);H.setToolTip(new qx.ui.tooltip.ToolTip(k));this.__mY.add(H,{row:0,column:2});var E=this.__Pp();this.__mY.add(E,{row:1,column:2});D.push(E);},__Pn:function(){var R=new qx.ui.tree.Tree().set({width:200,height:400});var W=new qx.ui.tree.TreeFolder(y);W.setOpen(true);R.setRoot(W);var U=new qx.ui.tree.TreeFolder(f);U.setOpen(true);W.add(U);var M=new qx.ui.tree.TreeFolder(B);var K=new qx.ui.tree.TreeFolder(x);var L=new qx.ui.tree.TreeFolder(a);var J=new qx.ui.tree.TreeFolder(m);U.add(M,K,L,J);var S=new qx.ui.tree.TreeFile(j);var I=new qx.ui.tree.TreeFile(h);K.add(S,I);var V=new qx.ui.tree.TreeFolder(p);var N=new qx.ui.tree.TreeFolder(b);var Q=new qx.ui.tree.TreeFolder(q);var P=new qx.ui.tree.TreeFolder(m);for(var i=0;i<30;i++){P.add(new qx.ui.tree.TreeFile(w+i));};var T=new qx.ui.tree.TreeFolder(n);var O=new qx.ui.tree.TreeFolder(l);V.add(N,Q,P,T,O);W.add(V);return R;},__Po:function(){var Y=new qx.ui.tree.VirtualTree(null,z,C).set({width:200,height:400});var X=t;var ba=new qx.data.store.Json(X);ba.bind(o,Y,o);ba.addListener(d,function(){Y.openNode(Y.getModel().getChildren().getItem(0));},this);return Y;},__Pp:function(){var bd=new qx.ui.treevirtual.TreeVirtual(A);bd.setWidth(200);var be=bd.getDataModel();var bb=be.addBranch(null,p,true,false);var bc=be.addBranch(bb,u,false);for(var i=1;i<3000;i++){be.addLeaf(bc,r+i);};be.addBranch(bb,q,true);be.addBranch(bb,m,true);be.addBranch(bb,n,true);be.addBranch(bb,l,true);be.setData();return bd;}}});})();(function(){var q="object",p="Boolean",o="Enter",n="number",m="changeSelection",l="qx.ui.treevirtual.TreeVirtual",k="treevirtual",h="dataEdited",g="hidden",f="Left",a="Right",d="qx.event.type.Data",c="dataChanged";qx.Class.define(l,{extend:qx.ui.table.Table,construct:function(r,t){if(!t){t={};};if(!t.dataModel){t.dataModel=new qx.ui.treevirtual.SimpleTreeDataModel();};if(t.treeColumn===undefined){t.treeColumn=0;t.dataModel.setTreeColumn(t.treeColumn);};if(!t.treeDataCellRenderer){t.treeDataCellRenderer=new qx.ui.treevirtual.SimpleTreeDataCellRenderer();};if(!t.defaultDataCellRenderer){t.defaultDataCellRenderer=new qx.ui.treevirtual.DefaultDataCellRenderer();};if(!t.dataRowRenderer){t.dataRowRenderer=new qx.ui.treevirtual.SimpleTreeDataRowRenderer();};if(!t.selectionManager){t.selectionManager=function(z){return new qx.ui.treevirtual.SelectionManager(z);};};if(!t.tableColumnModel){t.tableColumnModel=function(A){return new qx.ui.table.columnmodel.Resize(A);};};if(qx.lang.Type.isString(r)){r=[r];};t.dataModel.setColumns(r);t.dataModel.setTreeColumn(t.treeColumn);t.dataModel.setTree(this);qx.ui.table.Table.call(this,t.dataModel,t);this.addListener(h,function(e){this.getDataModel().setData();},this);this.setColumnVisibilityButtonVisible(r.length>1);this.setRowHeight(16);this.setMetaColumnCounts(r.length>1?[1,-1]:[1]);this.setOverflow(g);var v=t.treeDataCellRenderer;var u=t.defaultDataCellRenderer;var y=this.getTableColumnModel();var x=this.getDataModel().getTreeColumn();for(var i=0;i<r.length;i++){y.setDataCellRenderer(i,i==x?v:u);};this.setDataRowRenderer(t.dataRowRenderer);this.setFocusCellOnMouseMove(true);this.setShowCellFocusIndicator(false);var w=this._getPaneScrollerArr();for(var i=0;i<w.length;i++){w[i].setSelectBeforeFocus(true);};},events:{"treeOpenWithContent":d,"treeOpenWhileEmpty":d,"treeClose":d,"changeSelection":d},statics:{SelectionMode:{NONE:qx.ui.table.selection.Model.NO_SELECTION,SINGLE:qx.ui.table.selection.Model.SINGLE_SELECTION,SINGLE_INTERVAL:qx.ui.table.selection.Model.SINGLE_INTERVAL_SELECTION,MULTIPLE_INTERVAL:qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION,MULTIPLE_INTERVAL_TOGGLE:qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION_TOGGLE}},properties:{openCloseClickSelectsRow:{check:p,init:false},appearance:{refine:true,init:k}},members:{getDataModel:function(){return this.getTableModel();},setUseTreeLines:function(b){var D=this.getDataModel();var B=D.getTreeColumn();var C=this.getTableColumnModel().getDataCellRenderer(B);C.setUseTreeLines(b);if(D.hasListener(c)){var E={firstRow:0,lastRow:D.getRowCount()-1,firstColumn:0,lastColumn:D.getColumnCount()-1};D.fireDataEvent(c,E);};},getUseTreeLines:function(){var F=this.getDataModel().getTreeColumn();var G=this.getTableColumnModel().getDataCellRenderer(F);return G.getUseTreeLines();},setAlwaysShowOpenCloseSymbol:function(b){var J=this.getDataModel();var H=J.getTreeColumn();var I=this.getTableColumnModel().getDataCellRenderer(H);I.setAlwaysShowOpenCloseSymbol(b);if(J.hasListener(c)){var K={firstRow:0,lastRow:J.getRowCount()-1,firstColumn:0,lastColumn:J.getColumnCount()-1};J.fireDataEvent(c,K);};},setExcludeFirstLevelTreeLines:function(b){var N=this.getDataModel();var L=N.getTreeColumn();var M=this.getTableColumnModel().getDataCellRenderer(L);M.setExcludeFirstLevelTreeLines(b);if(N.hasListener(c)){var O={firstRow:0,lastRow:N.getRowCount()-1,firstColumn:0,lastColumn:N.getColumnCount()-1};N.fireDataEvent(c,O);};},getExcludeFirstLevelTreeLines:function(){var P=this.getDataModel().getTreeColumn();var Q=this.getTableColumnModel().getDataCellRenderer(P);return Q.getExcludeFirstLevelTreeLines();},getAlwaysShowOpenCloseSymbol:function(){var R=this.getDataModel().getTreeColumn();var S=this.getTableColumnModel().getDataCellRenderer(R);return S.getAlwaysShowOpenCloseSymbol();},setSelectionMode:function(T){this.getSelectionModel().setSelectionMode(T);},getSelectionMode:function(){return this.getSelectionModel().getSelectionMode();},getHierarchy:function(U){var Y=this;var X=[];var V;var ba;if(typeof (U)==q){V=U;ba=V.nodeId;}else if(typeof (U)==n){ba=U;}else {throw new Error("Expected node object or node id");};function W(bb){if(!bb){return;};var bc=Y.getDataModel().getData()[bb];X.unshift(bc.label);W(bc.parentNodeId);};W(ba);return X;},getSelectedNodes:function(){return this.getDataModel().getSelectedNodes();},_onKeyPress:function(bd){if(!this.getEnabled()){return;};var bm=bd.getKeyIdentifier();var bi=false;var bk=bd.getModifiers();if(bk==0){switch(bm){case o:var bf=this.getDataModel();var bg=this.getFocusedColumn();var bj=bf.getTreeColumn();if(bg==bj){var bl=this.getFocusedRow();var be=bf.getNode(bl);if(!be.bHideOpenClose&&be.type!=qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){bf.setState(be,{bOpened:!be.bOpened});};bi=true;};break;case f:this.moveFocusedCell(-1,0);break;case a:this.moveFocusedCell(1,0);break;};}else if(bk==qx.event.type.Dom.CTRL_MASK){switch(bm){case f:var bf=this.getDataModel();var bl=this.getFocusedRow();var bj=bf.getTreeColumn();var be=bf.getNode(bl);if((be.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH)&&!be.bHideOpenClose&&be.bOpened){bf.setState(be,{bOpened:!be.bOpened});};this.setFocusedCell(bj,bl,true);bi=true;break;case a:var bf=this.getDataModel();bl=this.getFocusedRow();bj=bf.getTreeColumn();be=bf.getNode(bl);if((be.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH)&&!be.bHideOpenClose&&!be.bOpened){bf.setState(be,{bOpened:!be.bOpened});};this.setFocusedCell(bj,bl,true);bi=true;break;};}else if(bk==qx.event.type.Dom.SHIFT_MASK){switch(bm){case f:var bf=this.getDataModel();var bl=this.getFocusedRow();var bj=bf.getTreeColumn();var be=bf.getNode(bl);if(be.parentNodeId){var bh=bf.getRowFromNodeId(be.parentNodeId);this.setFocusedCell(this._focusedCol,bh,true);};bi=true;break;case a:var bf=this.getDataModel();bl=this.getFocusedRow();bj=bf.getTreeColumn();be=bf.getNode(bl);if((be.type==qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH)&&!be.bHideOpenClose){if(!be.bOpened){bf.setState(be,{bOpened:!be.bOpened});};if(be.children.length>0){this.moveFocusedCell(0,1);};};bi=true;break;};};if(bi){bd.preventDefault();bd.stopPropagation();}else {qx.ui.table.Table.prototype._onKeyPress.call(this,bd);};},_onSelectionChanged:function(bn){this.getDataModel()._clearSelections();if(this.getSelectionMode()!=qx.ui.treevirtual.TreeVirtual.SelectionMode.NONE){var bo=this._calculateSelectedNodes();this.fireDataEvent(m,bo);};qx.ui.table.Table.prototype._onSelectionChanged.call(this,bn);},_calculateSelectedNodes:function(){var bs=this.getDataModel();var bq=this.getSelectionModel().getSelectedRanges();var br=[];var bp;for(var i=0;i<bq.length;i++){for(var j=bq[i].minIndex;j<=bq[i].maxIndex;j++){bp=bs.getNode(j);bs.setState(bp,{bSelected:true});br.push(bp);};};return br;},setOverflow:function(s){if(s!=g){throw new Error("Tree overflow must be hidden.  "+"The internal elements of it will scroll.");};}}});})();(function(){var e="cell.level",d="qx.ui.tree.VirtualTreeItem",c="open",b="virtual-tree-folder",a="cell.children";qx.Class.define(d,{extend:qx.ui.tree.core.AbstractItem,properties:{appearance:{refine:true,init:b}},members:{_forwardStates:{selected:true},_addWidgets:function(){this.addSpacer();this.addOpenButton();this.addIcon();this.addLabel();},_shouldShowOpenSymbol:function(){var open=this.getChildControl(c,true);if(open==null){return false;};return this.isOpenable();},getLevel:function(){return this.getUserData(e);},hasChildren:function(){return !!this.getUserData(a);}}});})();(function(){var b="tree-folder",a="qx.ui.tree.TreeFolder";qx.Class.define(a,{extend:qx.ui.tree.core.AbstractTreeItem,properties:{appearance:{refine:true,init:b}},members:{_addWidgets:function(){this.addSpacer();this.addOpenButton();this.addIcon();this.addLabel();}}});})();(function(){var a="qx.ui.treevirtual.DefaultDataCellRenderer";qx.Class.define(a,{extend:qx.ui.table.cellrenderer.Default});})();(function(){var l="__nl",k="_applyOpenMode",j="Space",h="Left",g="Enter",f="changeOpenMode",d="_applyRootOpenClose",c="changeSelection",b="qx.ui.tree.Tree",a="qx.ui.tree.core.AbstractTreeItem",z="tree",y="_applyHideRoot",x="changeRoot",w="_applyRoot",v="keypress",u="none",t="pane",s="Right",r="Boolean",q="excluded",o="visible",p="qx.event.type.Data",m="click",n="dblclick";qx.Class.define(b,{extend:qx.ui.core.scroll.AbstractScrollArea,implement:[qx.ui.core.IMultiSelection,qx.ui.form.IModelSelection,qx.ui.form.IForm],include:[qx.ui.core.MMultiSelectionHandling,qx.ui.core.MContentPadding,qx.ui.form.MModelSelection,qx.ui.form.MForm],construct:function(){qx.ui.core.scroll.AbstractScrollArea.call(this);this.__nl=new qx.ui.container.Composite(new qx.ui.layout.VBox()).set({allowShrinkY:false,allowGrowX:true});this.getChildControl(t).add(this.__nl);this.initOpenMode();this.initRootOpenClose();this.addListener(c,this._onChangeSelection,this);this.addListener(v,this._onKeyPress,this);},events:{addItem:p,removeItem:p},properties:{openMode:{check:[m,n,u],init:n,apply:k,event:f,themeable:true},root:{check:a,init:null,nullable:true,event:x,apply:w},hideRoot:{check:r,init:false,apply:y},rootOpenClose:{check:r,init:false,apply:d},appearance:{refine:true,init:z},focusable:{refine:true,init:true}},members:{__nl:null,SELECTION_MANAGER:qx.ui.tree.selection.SelectionManager,getChildrenContainer:function(){return this.__nl;},_applyRoot:function(A,B){var C=this.getChildrenContainer();if(B&&!B.isDisposed()){C.remove(B);if(B.hasChildren()){C.remove(B.getChildrenContainer());};};if(A){C.add(A);if(A.hasChildren()){C.add(A.getChildrenContainer());};A.setVisibility(this.getHideRoot()?q:o);A.recursiveAddToWidgetQueue();};},_applyHideRoot:function(D,E){var F=this.getRoot();if(!F){return;};F.setVisibility(D?q:o);F.recursiveAddToWidgetQueue();},_applyRootOpenClose:function(G,H){var I=this.getRoot();if(!I){return;};I.recursiveAddToWidgetQueue();},_getContentPaddingTarget:function(){return this.__nl;},getNextNodeOf:function(J,K){if((K!==false||J.isOpen())&&J.hasChildren()){return J.getChildren()[0];};while(J){var parent=J.getParent();if(!parent){return null;};var M=parent.getChildren();var L=M.indexOf(J);if(L>-1&&L<M.length-1){return M[L+1];};J=parent;};return null;},getPreviousNodeOf:function(N,O){var parent=N.getParent();if(!parent){return null;};if(this.getHideRoot()){if(parent==this.getRoot()){if(parent.getChildren()[0]==N){return null;};};}else {if(N==this.getRoot()){return null;};};var R=parent.getChildren();var P=R.indexOf(N);if(P>0){var Q=R[P-1];while((O!==false||Q.isOpen())&&Q.hasChildren()){var S=Q.getChildren();Q=S[S.length-1];};return Q;}else {return parent;};},getNextSiblingOf:function(T){if(T==this.getRoot()){return null;};var parent=T.getParent();var U=parent.getChildren();var V=U.indexOf(T);if(V<U.length-1){return U[V+1];};return null;},getPreviousSiblingOf:function(W){if(W==this.getRoot()){return null;};var parent=W.getParent();var X=parent.getChildren();var Y=X.indexOf(W);if(Y>0){return X[Y-1];};return null;},getItems:function(ba,bb){if(this.getRoot()!=null){return this.getRoot().getItems(ba,bb,this.getHideRoot());}else {return [];};},getChildren:function(){if(this.getRoot()!=null){return [this.getRoot()];}else {return [];};},getTreeItem:function(bc){while(bc){if(bc==this){return null;};if(bc instanceof qx.ui.tree.core.AbstractTreeItem){return bc;};bc=bc.getLayoutParent();};return null;},_applyOpenMode:function(bd,be){if(be==m){this.removeListener(m,this._onOpen,this);}else if(be==n){this.removeListener(n,this._onOpen,this);};if(bd==m){this.addListener(m,this._onOpen,this);}else if(bd==n){this.addListener(n,this._onOpen,this);};},_onOpen:function(e){var bf=this.getTreeItem(e.getTarget());if(!bf||!bf.isOpenable()){return;};bf.setOpen(!bf.isOpen());e.stopPropagation();},_onChangeSelection:function(e){var bh=e.getData();for(var i=0;i<bh.length;i++){var bg=bh[i];while(bg.getParent()!=null){bg=bg.getParent();bg.setOpen(true);};};},_onKeyPress:function(e){var bi=this._getLeadItem();if(bi!==null){switch(e.getKeyIdentifier()){case h:if(bi.isOpenable()&&bi.isOpen()){bi.setOpen(false);}else if(bi.getParent()){this.setSelection([bi.getParent()]);};break;case s:if(bi.isOpenable()&&!bi.isOpen()){bi.setOpen(true);};break;case g:case j:if(bi.isOpenable()){bi.toggleOpen();};break;};};}},destruct:function(){this._disposeObjects(l);}});})();
});