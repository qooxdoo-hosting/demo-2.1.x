qx.$$packageData['41090']={"locales":{},"resources":{},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("41090", function() {
(function(){var u="__kM",t="blur",s="Enter",r="__sd",q="Up",p="Escape",o="event.touch",n="qx.ui.menu.Manager",m="Left",l="Down",d="Right",k="__se",h="singleton",c="Space",b="interval",g="keydown",f="mousedown",j="keyup",a="keypress";qx.Class.define(n,{type:h,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__kM=[];var v=document.body;var w=qx.event.Registration;w.addListener(window.document.documentElement,f,this._onMouseDown,this,true);w.addListener(v,g,this._onKeyUpDown,this,true);w.addListener(v,j,this._onKeyUpDown,this,true);w.addListener(v,a,this._onKeyPress,this,true);if(!qx.core.Environment.get(o)){qx.bom.Element.addListener(window,t,this.hideAll,this);};this.__sd=new qx.event.Timer;this.__sd.addListener(b,this._onOpenInterval,this);this.__se=new qx.event.Timer;this.__se.addListener(b,this._onCloseInterval,this);},members:{__sf:null,__sg:null,__sd:null,__se:null,__kM:null,_getChild:function(x,y,z,A){var B=x.getChildren();var length=B.length;var C;for(var i=y;i<length&&i>=0;i+=z){C=B[i];if(C.isEnabled()&&!C.isAnonymous()&&C.isVisible()){return C;};};if(A){i=i==length?0:length-1;for(;i!=y;i+=z){C=B[i];if(C.isEnabled()&&!C.isAnonymous()&&C.isVisible()){return C;};};};return null;},_isInMenu:function(D){while(D){if(D instanceof qx.ui.menu.Menu){return true;};D=D.getLayoutParent();};return false;},_getMenuButton:function(E){while(E){if(E instanceof qx.ui.menu.AbstractButton){return E;};E=E.getLayoutParent();};return null;},add:function(F){{};var G=this.__kM;G.push(F);F.setZIndex(1e6+G.length);},remove:function(H){{};var I=this.__kM;if(I){qx.lang.Array.remove(I,H);};},hideAll:function(){var J=this.__kM;if(J){for(var i=J.length-1;i>=0;i--){J[i].exclude();};};},getActiveMenu:function(){var K=this.__kM;return K.length>0?K[K.length-1]:null;},scheduleOpen:function(L){this.cancelClose(L);if(L.isVisible()){if(this.__sf){this.cancelOpen(this.__sf);};}else if(this.__sf!=L){this.__sf=L;this.__sd.restartWith(L.getOpenInterval());};},scheduleClose:function(M){this.cancelOpen(M);if(!M.isVisible()){if(this.__sg){this.cancelClose(this.__sg);};}else if(this.__sg!=M){this.__sg=M;this.__se.restartWith(M.getCloseInterval());};},cancelOpen:function(N){if(this.__sf==N){this.__sd.stop();this.__sf=null;};},cancelClose:function(O){if(this.__sg==O){this.__se.stop();this.__sg=null;};},_onOpenInterval:function(e){this.__sd.stop();this.__sf.open();this.__sf=null;},_onCloseInterval:function(e){this.__se.stop();this.__sg.exclude();this.__sg=null;},_onMouseDown:function(e){var P=e.getTarget();P=qx.ui.core.Widget.getWidgetByElement(P,true);if(P==null){this.hideAll();return;};if(P.getMenu&&P.getMenu()&&P.getMenu().isVisible()){return;};if(this.__kM.length>0&&!this._isInMenu(P)){this.hideAll();};},__sh:{"Enter":1,"Space":1},__rV:{"Escape":1,"Up":1,"Down":1,"Left":1,"Right":1},_onKeyUpDown:function(e){var Q=this.getActiveMenu();if(!Q){return;};var R=e.getKeyIdentifier();if(this.__rV[R]||(this.__sh[R]&&Q.getSelectedButton())){e.stopPropagation();};},_onKeyPress:function(e){var S=this.getActiveMenu();if(!S){return;};var T=e.getKeyIdentifier();var V=this.__rV[T];var U=this.__sh[T];if(V){switch(T){case q:this._onKeyPressUp(S);break;case l:this._onKeyPressDown(S);break;case m:this._onKeyPressLeft(S);break;case d:this._onKeyPressRight(S);break;case p:this.hideAll();break;};e.stopPropagation();e.preventDefault();}else if(U){var W=S.getSelectedButton();if(W){switch(T){case s:this._onKeyPressEnter(S,W,e);break;case c:this._onKeyPressSpace(S,W,e);break;};e.stopPropagation();e.preventDefault();};};},_onKeyPressUp:function(X){var Y=X.getSelectedButton();var ba=X.getChildren();var bc=Y?X.indexOf(Y)-1:ba.length-1;var bb=this._getChild(X,bc,-1,true);if(bb){X.setSelectedButton(bb);}else {X.resetSelectedButton();};},_onKeyPressDown:function(bd){var be=bd.getSelectedButton();var bg=be?bd.indexOf(be)+1:0;var bf=this._getChild(bd,bg,1,true);if(bf){bd.setSelectedButton(bf);}else {bd.resetSelectedButton();};},_onKeyPressLeft:function(bh){var bm=bh.getOpener();if(!bm){return;};if(bm instanceof qx.ui.menu.AbstractButton){var bj=bm.getLayoutParent();bj.resetOpenedButton();bj.setSelectedButton(bm);}else if(bm instanceof qx.ui.menubar.Button){var bl=bm.getMenuBar().getMenuButtons();var bi=bl.indexOf(bm);if(bi===-1){return;};var bn=null;var length=bl.length;for(var i=1;i<=length;i++){var bk=bl[(bi-i+length)%length];if(bk.isEnabled()&&bk.isVisible()){bn=bk;break;};};if(bn&&bn!=bm){bn.open(true);};};},_onKeyPressRight:function(bo){var bq=bo.getSelectedButton();if(bq){var bp=bq.getMenu();if(bp){bo.setOpenedButton(bq);var bw=this._getChild(bp,0,1);if(bw){bp.setSelectedButton(bw);};return;};}else if(!bo.getOpenedButton()){var bw=this._getChild(bo,0,1);if(bw){bo.setSelectedButton(bw);if(bw.getMenu()){bo.setOpenedButton(bw);};return;};};var bu=bo.getOpener();if(bu instanceof qx.ui.menu.Button&&bq){while(bu){bu=bu.getLayoutParent();if(bu instanceof qx.ui.menu.Menu){bu=bu.getOpener();if(bu instanceof qx.ui.menubar.Button){break;};}else {break;};};if(!bu){return;};};if(bu instanceof qx.ui.menubar.Button){var bt=bu.getMenuBar().getMenuButtons();var br=bt.indexOf(bu);if(br===-1){return;};var bv=null;var length=bt.length;for(var i=1;i<=length;i++){var bs=bt[(br+i)%length];if(bs.isEnabled()&&bs.isVisible()){bv=bs;break;};};if(bv&&bv!=bu){bv.open(true);};};},_onKeyPressEnter:function(bx,by,e){if(by.hasListener(a)){var bz=e.clone();bz.setBubbles(false);bz.setTarget(by);by.dispatchEvent(bz);};this.hideAll();},_onKeyPressSpace:function(bA,bB,e){if(bB.hasListener(a)){var bC=e.clone();bC.setBubbles(false);bC.setTarget(bB);bB.dispatchEvent(bC);};}},destruct:function(){var bE=qx.event.Registration;var bD=document.body;bE.removeListener(window.document.documentElement,f,this._onMouseDown,this,true);bE.removeListener(bD,g,this._onKeyUpDown,this,true);bE.removeListener(bD,j,this._onKeyUpDown,this,true);bE.removeListener(bD,a,this._onKeyPress,this,true);this._disposeObjects(r,k);this._disposeArray(u);}});})();(function(){var f="button-backward",e="vertical",d="button-forward",c="menu-slidebar",b="qx.ui.menu.MenuSlideBar",a="execute";qx.Class.define(b,{extend:qx.ui.container.SlideBar,construct:function(){qx.ui.container.SlideBar.call(this,e);},properties:{appearance:{refine:true,init:c}},members:{_createChildControlImpl:function(g,h){var i;switch(g){case d:i=new qx.ui.form.HoverButton();i.addListener(a,this._onExecuteForward,this);this._addAt(i,2);break;case f:i=new qx.ui.form.HoverButton();i.addListener(a,this._onExecuteBackward,this);this._addAt(i,0);break;};return i||qx.ui.container.SlideBar.prototype._createChildControlImpl.call(this,g);}}});})();(function(){var n="qx.ui.menu.Menu",m="submenu",l="Enter",k="abandoned",j="contextmenu",i="changeMenu",h="qx.ui.form.MenuButton",g="visible",f="left",d="_applyMenu",a="hovered",c="changeVisibility",b="pressed";qx.Class.define(h,{extend:qx.ui.form.Button,construct:function(o,p,q){qx.ui.form.Button.call(this,o,p);if(q!=null){this.setMenu(q);};},properties:{menu:{check:n,nullable:true,apply:d,event:i}},members:{_applyVisibility:function(r,s){qx.ui.form.Button.prototype._applyVisibility.call(this,r,s);var t=this.getMenu();if(r!=g&&t){t.hide();};},_applyMenu:function(u,v){if(v){v.removeListener(c,this._onMenuChange,this);v.resetOpener();};if(u){u.addListener(c,this._onMenuChange,this);u.setOpener(this);u.removeState(m);u.removeState(j);};},open:function(w){var x=this.getMenu();if(x){qx.ui.menu.Manager.getInstance().hideAll();x.setOpener(this);x.open();if(w){var y=x.getSelectables()[0];if(y){x.setSelectedButton(y);};};};},_onMenuChange:function(e){var z=this.getMenu();if(z.isVisible()){this.addState(b);}else {this.removeState(b);};},_onMouseDown:function(e){qx.ui.form.Button.prototype._onMouseDown.call(this,e);if(e.getButton()!=f){return;};var A=this.getMenu();if(A){if(!A.isVisible()){this.open();}else {A.exclude();};e.stopPropagation();};},_onMouseUp:function(e){qx.ui.form.Button.prototype._onMouseUp.call(this,e);e.stopPropagation();},_onMouseOver:function(e){this.addState(a);},_onMouseOut:function(e){this.removeState(a);},_onKeyDown:function(e){switch(e.getKeyIdentifier()){case l:this.removeState(k);this.addState(b);var B=this.getMenu();if(B){if(!B.isVisible()){this.open();}else {B.exclude();};};e.stopPropagation();};},_onKeyUp:function(e){}}});})();(function(){var c="qx.ui.menu.Layout",b="Integer",a="_applyLayoutChange";qx.Class.define(c,{extend:qx.ui.layout.VBox,properties:{columnSpacing:{check:b,init:0,apply:a},spanColumn:{check:b,init:1,nullable:true,apply:a},iconColumnWidth:{check:b,init:0,themeable:true,apply:a},arrowColumnWidth:{check:b,init:0,themeable:true,apply:a}},members:{__sm:null,_computeSizeHint:function(){var q=this._getLayoutChildren();var o,g,j;var e=this.getSpanColumn();var h=this.__sm=[0,0,0,0];var m=this.getColumnSpacing();var k=0;var f=0;for(var i=0,l=q.length;i<l;i++){o=q[i];if(o.isAnonymous()){continue;};g=o.getChildrenSizes();for(var n=0;n<g.length;n++){if(e!=null&&n==e&&g[e+1]==0){k=Math.max(k,g[n]);}else {h[n]=Math.max(h[n],g[n]);};};var d=q[i].getInsets();f=Math.max(f,d.left+d.right);};if(e!=null&&h[e]+m+h[e+1]<k){h[e]=k-h[e+1]-m;};if(k==0){j=m*2;}else {j=m*3;};if(h[0]==0){h[0]=this.getIconColumnWidth();};if(h[3]==0){h[3]=this.getArrowColumnWidth();};var p=qx.ui.layout.VBox.prototype._computeSizeHint.call(this).height;return {minHeight:p,height:p,width:qx.lang.Array.sum(h)+f+j};},getColumnSizes:function(){return this.__sm||null;}},destruct:function(){this.__sm=null;}});})();(function(){var i="hover-button",h="interval",g="__kp",f="mouseover",d="mouseout",c="qx.ui.form.HoverButton",b="hovered",a="Integer";qx.Class.define(c,{extend:qx.ui.basic.Atom,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],construct:function(j,k){qx.ui.basic.Atom.call(this,j,k);this.addListener(f,this._onMouseOver,this);this.addListener(d,this._onMouseOut,this);this.__kp=new qx.event.AcceleratingTimer();this.__kp.addListener(h,this._onInterval,this);},properties:{appearance:{refine:true,init:i},interval:{check:a,init:80},firstInterval:{check:a,init:200},minTimer:{check:a,init:20},timerDecrease:{check:a,init:2}},members:{__kp:null,_onMouseOver:function(e){if(!this.isEnabled()||e.getTarget()!==this){return;};this.__kp.set({interval:this.getInterval(),firstInterval:this.getFirstInterval(),minimum:this.getMinTimer(),decrease:this.getTimerDecrease()}).start();this.addState(b);},_onMouseOut:function(e){this.__kp.stop();this.removeState(b);if(!this.isEnabled()||e.getTarget()!==this){return;};},_onInterval:function(){if(this.isEnabled()){this.execute();}else {this.__kp.stop();};}},destruct:function(){this._disposeObjects(g);}});})();(function(){var h="hovered",g="inherit",f="qx.ui.menubar.Button",d="keydown",c="menubar-button",b="keyup",a="pressed";qx.Class.define(f,{extend:qx.ui.form.MenuButton,construct:function(i,j,k){qx.ui.form.MenuButton.call(this,i,j,k);this.removeListener(d,this._onKeyDown);this.removeListener(b,this._onKeyUp);},properties:{appearance:{refine:true,init:c},show:{refine:true,init:g},focusable:{refine:true,init:false}},members:{getMenuBar:function(){var parent=this;while(parent){if(parent instanceof qx.ui.toolbar.ToolBar){return parent;};parent=parent.getLayoutParent();};return null;},open:function(l){qx.ui.form.MenuButton.prototype.open.call(this,l);var menubar=this.getMenuBar();menubar._setAllowMenuOpenHover(true);},_onMenuChange:function(e){var m=this.getMenu();var menubar=this.getMenuBar();if(m.isVisible()){this.addState(a);if(menubar){menubar.setOpenMenu(m);};}else {this.removeState(a);if(menubar&&menubar.getOpenMenu()==m){menubar.resetOpenMenu();menubar._setAllowMenuOpenHover(false);};};},_onMouseUp:function(e){qx.ui.form.MenuButton.prototype._onMouseUp.call(this,e);var n=this.getMenu();if(n&&n.isVisible()&&!this.hasState(a)){this.addState(a);};},_onMouseOver:function(e){this.addState(h);if(this.getMenu()){var menubar=this.getMenuBar();if(menubar._isAllowMenuOpenHover()){qx.ui.menu.Manager.getInstance().hideAll();menubar._setAllowMenuOpenHover(true);if(this.isEnabled()){this.open();};};};}}});})();(function(){var k="Boolean",j="changeIcon",i="changeLabel",h="_applyMenu",g="_applyShowCommandLabel",f="qx.ui.menu.AbstractButton",d="",c="abstract",b="qx.ui.menu.Menu",a="click",y="keypress",x="_applyIcon",w="changeShowCommandLabel",v="changeMenu",u="_applyLabel",t="submenu",s="String",r="changeCommand",q="changeLocale",p="qx.dynlocale",n="arrow",o="icon",l="label",m="shortcut";qx.Class.define(f,{extend:qx.ui.core.Widget,include:[qx.ui.core.MExecutable],implement:[qx.ui.form.IExecutable],type:c,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.menu.ButtonLayout);this.addListener(a,this._onClick);this.addListener(y,this._onKeyPress);this.addListener(r,this._onChangeCommand,this);},properties:{blockToolTip:{refine:true,init:true},label:{check:s,apply:u,nullable:true,event:i},menu:{check:b,apply:h,nullable:true,dereference:true,event:v},icon:{check:s,apply:x,themeable:true,nullable:true,event:j},showCommandLabel:{check:k,apply:g,themeable:true,init:true,event:w}},members:{_createChildControlImpl:function(z,A){var B;switch(z){case o:B=new qx.ui.basic.Image;B.setAnonymous(true);this._add(B,{column:0});break;case l:B=new qx.ui.basic.Label;B.setAnonymous(true);this._add(B,{column:1});break;case m:B=new qx.ui.basic.Label;B.setAnonymous(true);if(!this.getShowCommandLabel()){B.exclude();};this._add(B,{column:2});break;case n:B=new qx.ui.basic.Image;B.setAnonymous(true);this._add(B,{column:3});break;};return B||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,z);},_forwardStates:{selected:1},getChildrenSizes:function(){var C=0,D=0,E=0,I=0;if(this._isChildControlVisible(o)){var J=this.getChildControl(o);C=J.getMarginLeft()+J.getSizeHint().width+J.getMarginRight();};if(this._isChildControlVisible(l)){var G=this.getChildControl(l);D=G.getMarginLeft()+G.getSizeHint().width+G.getMarginRight();};if(this._isChildControlVisible(m)){var F=this.getChildControl(m);E=F.getMarginLeft()+F.getSizeHint().width+F.getMarginRight();};if(this._isChildControlVisible(n)){var H=this.getChildControl(n);I=H.getMarginLeft()+H.getSizeHint().width+H.getMarginRight();};return [C,D,E,I];},_onClick:function(e){},_onKeyPress:function(e){},_onChangeCommand:function(e){var M=e.getData();if(M==null){return;};if(qx.core.Environment.get(p)){var K=e.getOldData();if(!K){qx.locale.Manager.getInstance().addListener(q,this._onChangeLocale,this);};if(!M){qx.locale.Manager.getInstance().removeListener(q,this._onChangeLocale,this);};};var L=M!=null?M.toString():d;this.getChildControl(m).setValue(L);},_onChangeLocale:qx.core.Environment.select(p,{"true":function(e){var N=this.getCommand();if(N!=null){this.getChildControl(m).setValue(N.toString());};},"false":null}),_applyIcon:function(O,P){if(O){this._showChildControl(o).setSource(O);}else {this._excludeChildControl(o);};},_applyLabel:function(Q,R){if(Q){this._showChildControl(l).setValue(Q);}else {this._excludeChildControl(l);};},_applyMenu:function(S,T){if(T){T.resetOpener();T.removeState(t);};if(S){this._showChildControl(n);S.setOpener(this);S.addState(t);}else {this._excludeChildControl(n);};},_applyShowCommandLabel:function(U,V){if(U){this._showChildControl(m);}else {this._excludeChildControl(m);};}},destruct:function(){this.removeListener(r,this._onChangeCommand,this);if(this.getMenu()){if(!qx.core.ObjectRegistry.inShutDown){this.getMenu().destroy();};};if(qx.core.Environment.get(p)){qx.locale.Manager.getInstance().removeListener(q,this._onChangeLocale,this);};}});})();(function(){var b="qx.ui.menu.Button",a="menu-button";qx.Class.define(b,{extend:qx.ui.menu.AbstractButton,construct:function(c,d,f,g){qx.ui.menu.AbstractButton.call(this);if(c!=null){this.setLabel(c);};if(d!=null){this.setIcon(d);};if(f!=null){this.setCommand(f);};if(g!=null){this.setMenu(g);};},properties:{appearance:{refine:true,init:a}},members:{_onClick:function(e){if(e.isLeftPressed()){this.execute();if(this.getMenu()){return;};}else {if(this.getContextMenu()){return;};};qx.ui.menu.Manager.getInstance().hideAll();},_onKeyPress:function(e){this.execute();}}});})();(function(){var b="menu-separator",a="qx.ui.menu.Separator";qx.Class.define(a,{extend:qx.ui.core.Widget,properties:{appearance:{refine:true,init:b},anonymous:{refine:true,init:true}}});})();(function(){var q="Integer",p="qx.ui.toolbar.Part",o="icon",n="label",m="syncAppearance",k="visible",j="changeShow",h="_applySpacing",g="toolbar/part",f="handle",c="both",e="container",d="left",b="right",a="middle";qx.Class.define(p,{extend:qx.ui.core.Widget,include:[qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox);this._createChildControl(f);},properties:{appearance:{refine:true,init:g},show:{init:c,check:[c,n,o],inheritable:true,event:j},spacing:{nullable:true,check:q,themeable:true,apply:h}},members:{_createChildControlImpl:function(r,s){var t;switch(r){case f:t=new qx.ui.basic.Image();t.setAlignY(a);this._add(t);break;case e:t=new qx.ui.toolbar.PartContainer();t.addListener(m,this.__sx,this);this._add(t);break;};return t||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,r);},getChildrenContainer:function(){return this.getChildControl(e);},_applySpacing:function(u,v){var w=this.getChildControl(e).getLayout();u==null?w.resetSpacing():w.setSpacing(u);},__sx:function(){var x=this.getChildrenContainer().getChildren();x=x.filter(function(y){return y.getVisibility()==k;});for(var i=0;i<x.length;i++){if(i==0&&i!=x.length-1){x[i].addState(d);x[i].removeState(b);x[i].removeState(a);}else if(i==x.length-1&&i!=0){x[i].addState(b);x[i].removeState(d);x[i].removeState(a);}else if(i==0&&i==x.length-1){x[i].removeState(d);x[i].removeState(a);x[i].removeState(b);}else {x[i].addState(a);x[i].removeState(b);x[i].removeState(d);};};},addSeparator:function(){this.add(new qx.ui.toolbar.Separator);},getMenuButtons:function(){var A=this.getChildren();var z=[];var B;for(var i=0,l=A.length;i<l;i++){B=A[i];if(B instanceof qx.ui.menubar.Button){z.push(B);};};return z;}}});})();(function(){var l="Boolean",k="mouseout",j="excluded",h="menu",g="_applySelectedButton",f="_applyOpenInterval",d="_applySpacingY",c="_blocker",b="_applyCloseInterval",a="_applyBlockerColor",A="_applyIconColumnWidth",z="mouseover",y="qx.ui.menu.Menu",x="Color",w="Number",v="_applyOpenedButton",u="_applySpacingX",t="_applyBlockerOpacity",s="_applyArrowColumnWidth",r="selected",p="visible",q="qx.ui.core.Widget",n="Integer",o="resize",m="slidebar";qx.Class.define(y,{extend:qx.ui.core.Widget,include:[qx.ui.core.MPlacement,qx.ui.core.MRemoteChildrenHandling],construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.menu.Layout);var B=this.getApplicationRoot();B.add(this);this.addListener(z,this._onMouseOver);this.addListener(k,this._onMouseOut);this.addListener(o,this._onResize,this);B.addListener(o,this._onResize,this);this._blocker=new qx.ui.core.Blocker(B);this.initVisibility();this.initKeepFocus();this.initKeepActive();},properties:{appearance:{refine:true,init:h},allowGrowX:{refine:true,init:false},allowGrowY:{refine:true,init:false},visibility:{refine:true,init:j},keepFocus:{refine:true,init:true},keepActive:{refine:true,init:true},spacingX:{check:n,apply:u,init:0,themeable:true},spacingY:{check:n,apply:d,init:0,themeable:true},iconColumnWidth:{check:n,init:0,themeable:true,apply:A},arrowColumnWidth:{check:n,init:0,themeable:true,apply:s},blockerColor:{check:x,init:null,nullable:true,apply:a,themeable:true},blockerOpacity:{check:w,init:1,apply:t,themeable:true},selectedButton:{check:q,nullable:true,apply:g},openedButton:{check:q,nullable:true,apply:v},opener:{check:q,nullable:true},openInterval:{check:n,themeable:true,init:250,apply:f},closeInterval:{check:n,themeable:true,init:250,apply:b},blockBackground:{check:l,themeable:true,init:false}},members:{__si:null,__sj:null,_blocker:null,open:function(){if(this.getOpener()!=null){var C=this.placeToWidget(this.getOpener());if(C){this.__sl();this.show();this._placementTarget=this.getOpener();}else {this.warn("Could not open menu instance because 'opener' widget is not visible");};}else {this.warn("The menu instance needs a configured 'opener' widget!");};},openAtMouse:function(e){this.placeToMouse(e);this.__sl();this.show();this._placementTarget={left:e.getDocumentLeft(),top:e.getDocumentTop()};},openAtPoint:function(D){this.placeToPoint(D);this.__sl();this.show();this._placementTarget=D;},addSeparator:function(){this.add(new qx.ui.menu.Separator);},getColumnSizes:function(){return this._getMenuLayout().getColumnSizes();},getSelectables:function(){var E=[];var F=this.getChildren();for(var i=0;i<F.length;i++){if(F[i].isEnabled()){E.push(F[i]);};};return E;},_applyIconColumnWidth:function(G,H){this._getMenuLayout().setIconColumnWidth(G);},_applyArrowColumnWidth:function(I,J){this._getMenuLayout().setArrowColumnWidth(I);},_applySpacingX:function(K,L){this._getMenuLayout().setColumnSpacing(K);},_applySpacingY:function(M,N){this._getMenuLayout().setSpacing(M);},_applyVisibility:function(O,P){qx.ui.core.Widget.prototype._applyVisibility.call(this,O,P);var Q=qx.ui.menu.Manager.getInstance();if(O===p){Q.add(this);var R=this.getParentMenu();if(R){R.setOpenedButton(this.getOpener());};}else if(P===p){Q.remove(this);var R=this.getParentMenu();if(R&&R.getOpenedButton()==this.getOpener()){R.resetOpenedButton();};this.resetOpenedButton();this.resetSelectedButton();};this.__sk();},__sk:function(){if(this.isVisible()){if(this.getBlockBackground()){var S=this.getZIndex();this._blocker.blockContent(S-1);};}else {if(this._blocker.isContentBlocked()){this._blocker.unblockContent();};};},getParentMenu:function(){var T=this.getOpener();if(!T||!(T instanceof qx.ui.menu.AbstractButton)){return null;};if(T&&T.getContextMenu()===this){return null;};while(T&&!(T instanceof qx.ui.menu.Menu)){T=T.getLayoutParent();};return T;},_applySelectedButton:function(U,V){if(V){V.removeState(r);};if(U){U.addState(r);};},_applyOpenedButton:function(W,X){if(X&&X.getMenu()){X.getMenu().exclude();};if(W){W.getMenu().open();};},_applyBlockerColor:function(Y,ba){this._blocker.setColor(Y);},_applyBlockerOpacity:function(bb,bc){this._blocker.setOpacity(bb);},getChildrenContainer:function(){return this.getChildControl(m,true)||this;},_createChildControlImpl:function(bd,be){var bf;switch(bd){case m:var bf=new qx.ui.menu.MenuSlideBar();var bh=this._getLayout();this._setLayout(new qx.ui.layout.Grow());var bg=bf.getLayout();bf.setLayout(bh);bg.dispose();var bi=qx.lang.Array.clone(this.getChildren());for(var i=0;i<bi.length;i++){bf.add(bi[i]);};this.removeListener(o,this._onResize,this);bf.getChildrenContainer().addListener(o,this._onResize,this);this._add(bf);break;};return bf||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bd);},_getMenuLayout:function(){if(this.hasChildControl(m)){return this.getChildControl(m).getChildrenContainer().getLayout();}else {return this._getLayout();};},_getMenuBounds:function(){if(this.hasChildControl(m)){return this.getChildControl(m).getChildrenContainer().getBounds();}else {return this.getBounds();};},_computePlacementSize:function(){return this._getMenuBounds();},__sl:function(){var bk=this._getMenuBounds();if(!bk){this.addListenerOnce(o,this.__sl,this);return;};var bj=this.getLayoutParent().getBounds().height;var top=this.getLayoutProperties().top;var bl=this.getLayoutProperties().left;if(top<0){this._assertSlideBar(function(){this.setHeight(bk.height+top);this.moveTo(bl,0);});}else if(top+bk.height>bj){this._assertSlideBar(function(){this.setHeight(bj-top);});}else {this.setHeight(null);};},_assertSlideBar:function(bm){if(this.hasChildControl(m)){return bm.call(this);};this.__sj=bm;qx.ui.core.queue.Widget.add(this);},syncWidget:function(bn){this.getChildControl(m);if(this.__sj){this.__sj.call(this);delete this.__sj;};},_onResize:function(){if(this.isVisible()){var bo=this._placementTarget;if(!bo){return;}else if(bo instanceof qx.ui.core.Widget){this.placeToWidget(bo);}else if(bo.top!==undefined){this.placeToPoint(bo);}else {throw new Error("Unknown target: "+bo);};this.__sl();};},_onMouseOver:function(e){var bq=qx.ui.menu.Manager.getInstance();bq.cancelClose(this);var br=e.getTarget();if(br.isEnabled()&&br instanceof qx.ui.menu.AbstractButton){this.setSelectedButton(br);var bp=br.getMenu&&br.getMenu();if(bp){bp.setOpener(br);bq.scheduleOpen(bp);this.__si=bp;}else {var bs=this.getOpenedButton();if(bs){bq.scheduleClose(bs.getMenu());};if(this.__si){bq.cancelOpen(this.__si);this.__si=null;};};}else if(!this.getOpenedButton()){this.resetSelectedButton();};},_onMouseOut:function(e){var bt=qx.ui.menu.Manager.getInstance();if(!qx.ui.core.Widget.contains(this,e.getRelatedTarget())){var bu=this.getOpenedButton();bu?this.setSelectedButton(bu):this.resetSelectedButton();if(bu){bt.cancelClose(bu.getMenu());};if(this.__si){bt.cancelOpen(this.__si);};};}},destruct:function(){if(!qx.core.ObjectRegistry.inShutDown){qx.ui.menu.Manager.getInstance().remove(this);};this.getApplicationRoot().removeListener(o,this._onResize,this);this._placementTarget=null;this._disposeObjects(c);}});})();(function(){var b="toolbar-separator",a="qx.ui.toolbar.Separator";qx.Class.define(a,{extend:qx.ui.core.Widget,properties:{appearance:{refine:true,init:b},anonymous:{refine:true,init:true},width:{refine:true,init:0},height:{refine:true,init:0}}});})();(function(){var c="middle",b="qx.ui.menu.ButtonLayout",a="left";qx.Class.define(b,{extend:qx.ui.layout.Abstract,members:{verifyLayoutProperty:null,renderLayout:function(d,e){var q=this._getLayoutChildren();var p;var g;var h=[];for(var i=0,l=q.length;i<l;i++){p=q[i];g=p.getLayoutProperties().column;h[g]=p;};var o=this.__sn(q[0]);var r=o.getColumnSizes();var k=o.getSpacingX();var j=qx.lang.Array.sum(r)+k*(r.length-1);if(j<d){r[1]+=d-j;};var s=0,top=0;var m=qx.ui.layout.Util;for(var i=0,l=r.length;i<l;i++){p=h[i];if(p){var f=p.getSizeHint();var top=m.computeVerticalAlignOffset(p.getAlignY()||c,f.height,e,0,0);var n=m.computeHorizontalAlignOffset(p.getAlignX()||a,f.width,r[i],p.getMarginLeft(),p.getMarginRight());p.renderLayout(s+n,top,f.width,f.height);};if(r[i]>0){s+=r[i]+k;};};},__sn:function(t){while(!(t instanceof qx.ui.menu.Menu)){t=t.getLayoutParent();};return t;},_computeSizeHint:function(){var w=this._getLayoutChildren();var v=0;var x=0;for(var i=0,l=w.length;i<l;i++){var u=w[i].getSizeHint();x+=u.width;v=Math.max(v,u.height);};return {width:x,height:v};}}});})();(function(){var x="qx.ui.menu.Menu",w="_applySpacing",v="showItem",u="Boolean",t="icon",s="label",r="_applyShow",q="qx.ui.core.Widget",p="_applyOverflowIndicator",o="_applyOverflowHandling",f="changeShow",n="Integer",j="qx.ui.toolbar.ToolBar",c="hideItem",b="toolbar",h="changeOpenMenu",g="qx.event.type.Data",k="both",a="resize",m="excluded",d="visible";qx.Class.define(j,{extend:qx.ui.core.Widget,include:qx.ui.core.MChildrenHandling,construct:function(){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this.__ss=[];this.__st=[];},properties:{appearance:{refine:true,init:b},openMenu:{check:x,event:h,nullable:true},show:{init:k,check:[k,s,t],inheritable:true,apply:r,event:f},spacing:{nullable:true,check:n,themeable:true,apply:w},overflowIndicator:{check:q,nullable:true,apply:p},overflowHandling:{init:false,check:u,apply:o}},events:{"hideItem":g,"showItem":g},members:{__ss:null,__st:null,_computeSizeHint:function(){var A=qx.ui.core.Widget.prototype._computeSizeHint.call(this);if(true&&this.getOverflowHandling()){var y=0;var z=this.getOverflowIndicator();if(z){y=z.getSizeHint().width+this.getSpacing();};A.minWidth=y;};return A;},_onResize:function(e){this._recalculateOverflow(e.getData().width);},_recalculateOverflow:function(B,C){if(!this.getOverflowHandling()){return;};C=C||this.getSizeHint().width;var D=this.getOverflowIndicator();var J=0;if(D){J=D.getSizeHint().width;};if(B==undefined&&this.getBounds()!=null){B=this.getBounds().width;};if(B==undefined){return;};if(B<C){do {var K=this._getNextToHide();if(!K){return;};var M=K.getMarginLeft()+K.getMarginRight();M=Math.max(M,this.getSpacing());var H=K.getSizeHint().width+M;this.__sv(K);C-=H;if(D&&D.getVisibility()!=d){D.setVisibility(d);C+=J;var F=D.getMarginLeft()+D.getMarginRight();C+=Math.max(F,this.getSpacing());};}while(C>B);}else if(this.__ss.length>0){do {var N=this.__ss[0];if(N){var M=N.getMarginLeft()+N.getMarginRight();M=Math.max(M,this.getSpacing());if(N.getDecoratorElement()==null){N.syncAppearance();N.invalidateLayoutCache();};var G=N.getSizeHint().width;var L=false;if(this.__ss.length==1&&J>0){var E=M-this.getSpacing();var I=C-J+G+E;L=B>I;};if(B>C+G+M||L){this.__su(N);C+=G;if(D&&this.__ss.length==0){D.setVisibility(m);};}else {return;};};}while(B>=C&&this.__ss.length>0);};},__su:function(O){O.setVisibility(d);this.__ss.shift();this.fireDataEvent(v,O);},__sv:function(P){if(!P){return;};this.__ss.unshift(P);P.setVisibility(m);this.fireDataEvent(c,P);},_getNextToHide:function(){for(var i=this.__st.length-1;i>=0;i--){var Q=this.__st[i];if(Q&&Q.getVisibility&&Q.getVisibility()==d){return Q;};};var R=this._getChildren();for(var i=R.length-1;i>=0;i--){var S=R[i];if(S==this.getOverflowIndicator()){continue;};if(S.getVisibility&&S.getVisibility()==d){return S;};};},setRemovePriority:function(T,U,V){if(!V&&this.__st[U]!=undefined){throw new Error("Priority already in use!");};this.__st[U]=T;},_applyOverflowHandling:function(W,X){this.invalidateLayoutCache();var parent=this.getLayoutParent();if(parent){parent.invalidateLayoutCache();};var ba=this.getBounds();if(ba&&ba.width){this._recalculateOverflow(ba.width);};if(W){this.addListener(a,this._onResize,this);}else {this.removeListener(a,this._onResize,this);var Y=this.getOverflowIndicator();if(Y){Y.setVisibility(m);};for(var i=0;i<this.__ss.length;i++){this.__ss[i].setVisibility(d);};this.__ss=[];};},_applyOverflowIndicator:function(bb,bc){if(bc){this._remove(bc);};if(bb){if(this._indexOf(bb)==-1){throw new Error("Widget must be child of the toolbar.");};bb.setVisibility(m);};},__sw:false,_setAllowMenuOpenHover:function(bd){this.__sw=bd;},_isAllowMenuOpenHover:function(){return this.__sw;},_applySpacing:function(be,bf){var bg=this._getLayout();be==null?bg.resetSpacing():bg.setSpacing(be);},_applyShow:function(bh){var bi=this._getChildren();for(var i=0;i<bi.length;i++){if(bi[i].setShow){bi[i].setShow(bh);};};},_add:function(bj,bk){qx.ui.core.Widget.prototype._add.call(this,bj,bk);if(bj.setShow){bj.setShow(this.getShow());};var bl=this.getSizeHint().width+bj.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bl);},_addAt:function(bm,bn,bo){qx.ui.core.Widget.prototype._addAt.call(this,bm,bn,bo);if(bm.setShow){bm.setShow(this.getShow());};var bp=this.getSizeHint().width+bm.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bp);},_addBefore:function(bq,br,bs){qx.ui.core.Widget.prototype._addBefore.call(this,bq,br,bs);if(bq.setShow){bq.setShow(this.getShow());};var bt=this.getSizeHint().width+bq.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bt);},_addAfter:function(bu,bv,bw){qx.ui.core.Widget.prototype._addAfter.call(this,bu,bv,bw);if(bu.setShow){bu.setShow(this.getShow());};var bx=this.getSizeHint().width+bu.getSizeHint().width+2*this.getSpacing();this._recalculateOverflow(null,bx);},_remove:function(by){qx.ui.core.Widget.prototype._remove.call(this,by);var bz=this.getSizeHint().width-by.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,bz);},_removeAt:function(bA){var bC=this._getChildren()[bA];qx.ui.core.Widget.prototype._removeAt.call(this,bA);var bB=this.getSizeHint().width-bC.getSizeHint().width-2*this.getSpacing();this._recalculateOverflow(null,bB);},_removeAll:function(){qx.ui.core.Widget.prototype._removeAll.call(this);this._recalculateOverflow(null,0);},addSpacer:function(){var bD=new qx.ui.core.Spacer;this._add(bD,{flex:1});return bD;},addSeparator:function(){this.add(new qx.ui.toolbar.Separator);},getMenuButtons:function(){var bF=this.getChildren();var bE=[];var bG;for(var i=0,l=bF.length;i<l;i++){bG=bF[i];if(bG instanceof qx.ui.menubar.Button){bE.push(bG);}else if(bG instanceof qx.ui.toolbar.Part){bE.push.apply(bE,bG.getMenuButtons());};};return bE;}},destruct:function(){if(this.hasListener(a)){this.removeListener(a,this._onResize,this);};}});})();
});